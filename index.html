<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta name="description" content="Dormir é uma ciência, não um luxo. A nivora conecta os pontos entre os ciclos circadianos e o bem-estar moderno, oferecendo uma curadoria precisa sobre como a ciência pode silenciar sua mente e restaurar seu corpo.">
    
    <!-- Favicon -->
    <link rel="icon" href="favicon_favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_apple-touch-icon.png">
    <link rel="manifest" href="favicon_site.webmanifest">
    <meta name="theme-color" content="#6C63FF">
    
    <!-- Open Graph Meta Tags para Compartilhamento em Redes Sociais -->
    <meta property="og:title" content="NIVORA">
    <meta property="og:description" content="Dormir é uma ciência, não um luxo. A nivora conecta os pontos entre os ciclos circadianos e o bem-estar moderno, oferecendo uma curadoria precisa sobre como a ciência pode silenciar sua mente e restaurar seu corpo.">
    <meta property="og:image" content="https://nivoora.github.io/preview.png">
    <meta property="og:url" content="https://nivoora.github.io">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="NIVORA">
    <meta name="twitter:description" content="Dormir é uma ciência, não um luxo. A nivora conecta os pontos entre os ciclos circadianos e o bem-estar moderno, oferecendo uma curadoria precisa sobre como a ciência pode silenciar sua mente e restaurar seu corpo.">
    <meta name="twitter:image" content="https://nivoora.github.io/preview.png">
    
    <meta name="google-adsense-account" content="ca-pub-2479436560500692">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1TRPB1X6D0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1TRPB1X6D0');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nivora - sonhe alto</title>
    <style>
        :root {
            --primary: #0044CC;
            --secondary: #0033A0;
            --dark: #0F0F1E;
            --darker: #070712;
            --light: #FFFFFF;
            --gray: #A0A0B0;
        }
        
        /* ========== BOX-SIZING GLOBAL ========== */
        *, *::before, *::after {
            box-sizing: border-box;
        }
        
        /* ========== RESET CORRETO (SEM 100vw!) ========== */
        html, body {
            width: 100%;
            max-width: 100%;
            margin: 0;
            padding: 0;
            overflow-x: clip;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* RESET DE LINKS */
        a {
            color: inherit;
            text-decoration: none;
        }
        
        a:visited {
            color: inherit;
        }
        
        body {
            background-color: var(--darker);
            color: var(--light);
            position: relative;
        }
        
        /* ========== SCROLL SMOOTH ========== */
        html {
            scroll-behavior: smooth;
        }
        
        /* ========== CONTAINERS (SEM 100vw!) ========== */
        .app-container {
            width: 100%;
            min-height: 100vh;
            position: relative;
        }
        
        .pages-container {
            width: 100%;
            min-height: 100vh;
            position: relative;
        }
        
        .page {
            width: 100%;
            min-height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            padding-bottom: 90px;
            display: none;
            overflow-y: auto;
        }
        
        .page.active {
            display: block;
        }
        
        /* ========== HEADER UNIFICADO (FIX DEFINITIVO!) ========== */
        header, .app-header {
            position: fixed !important;
            top: 0 !important;
            left: 0;
            right: 0;
            width: 100%;
            height: 70px;
            background: rgba(15, 15, 30, 0.95);
            backdrop-filter: blur(10px);
            padding: 0 5%;
            z-index: 1000 !important;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* ========== CONTEÚDO COMEÇA ABAIXO DO HEADER ========== */
        .page > *:first-child:not(header):not(.app-header) {
            margin-top: 70px;
        }
        
        /* ========== MENU INFERIOR ========== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 70px;
            background: rgba(15, 15, 30, 0.70);
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 99999;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.4);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: var(--gray);
            padding: 8px 12px;
            border-radius: 12px;
            transition: all 0.2s ease;
            flex: 1;
            max-width: 90px;
            height: 60px;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: var(--primary);
            background: rgba(0, 68, 204, 0.15);
        }
        
        .nav-icon {
            font-size: 1.8rem;
            margin-bottom: 2px;
        }
        
        .nav-label {
            font-size: 0.7rem;
            font-weight: 500;
            line-height: 1;
        }
        
        /* ========== CSS PÁGINA INÍCIO ========== */
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: var(--darker);
    color: var(--light);
    overflow-x: hidden;
    position: relative;
}

.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.star {
    position: absolute;
    background-color: white;
    border-radius: 50%;
    animation: twinkle 3s infinite ease-in-out;
}

@keyframes twinkle {
    0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
    }
    50% { 
        opacity: 1;
        transform: scale(1.1);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 5%;
    background-color: rgba(15, 15, 30, 0.95);
    backdrop-filter: blur(10px);
    position: sticky;
    top: 0;
    z-index: 1000;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary);
}

#nivora-logo {
    cursor: pointer;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    outline: none !important;
}

#nivora-logo:focus,
#nivora-logo:active {
    outline: none !important;
    box-shadow: none !important;
}

.nav-container {
    display: none; /* Removido - não usar mais */
}

nav ul {
    display: none; /* Removido - não usar mais */
    list-style: none;
}

nav ul li {
    position: relative;
    margin-left: 25px;
}

nav ul li a {
    color: var(--light);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s;
    padding: 8px 12px;
    border-radius: 6px;
}

nav ul li a:hover {
    color: var(--primary);
}

.mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    color: var(--light);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 5px;
    z-index: 1001;
    margin-left: 15px;
}

/* ========== HAMBURGER MENU BUTTON ========== */
.hamburger-menu {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 24px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 25px;
    z-index: 1001;
    transition: all 0.3s ease;
}

.hamburger-line {
    width: 100%;
    height: 3px;
    background: white;
    border-radius: 2px;
    transition: all 0.3s ease;
}

.hamburger-menu:hover .hamburger-line {
    background: var(--light);
}

.hamburger-menu.active .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(8px, 8px);
}

.hamburger-menu.active .hamburger-line:nth-child(2) {
    opacity: 0;
}

.hamburger-menu.active .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
}

/* ========== SIDEBAR OVERLAY ========== */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    z-index: 9998;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.sidebar-overlay.active {
    opacity: 1;
    visibility: visible;
}

/* ========== SIDEBAR MENU - MINIMALISTA METADE DA TELA ========== */
.sidebar-menu {
    position: fixed;
    top: 0;
    right: -50%;
    width: 50%;
    max-width: 50vw;
    height: 100vh;
    background: linear-gradient(135deg, rgba(10, 10, 20, 0.98), rgba(5, 5, 12, 0.98));
    backdrop-filter: blur(20px);
    border-left: 1px solid rgba(255, 255, 255, 0.15);
    z-index: 9999;
    transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    overflow-y: auto;
    box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
}

.sidebar-menu.active {
    right: 0;
}

.sidebar-close {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 36px;
    height: 36px;
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: #fff;
    font-size: 1.3rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 10000;
}

.sidebar-close:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.4);
    transform: rotate(90deg);
}

.sidebar-content {
    padding: 80px 40px 40px;
    display: flex;
    flex-direction: column;
    gap: 40px;
}

/* ========== SIDEBAR MESSAGE - MINIMALISTA ========== */
.sidebar-message {
    text-align: center;
    padding: 0;
    background: transparent;
    border-radius: 0;
    border: none;
}

.sidebar-message::before {
    display: none;
}

.sidebar-message p {
    color: #FFFFFF;
    line-height: 1.8;
    font-size: 0.95rem;
    margin: 0 0 20px 0;
    font-weight: 400;
}

.sidebar-signature {
    color: #FFFFFF !important;
    font-weight: 600;
    font-size: 0.9rem !important;
    letter-spacing: 2px;
    margin-top: 20px !important;
    font-style: normal;
    opacity: 0.7;
    text-shadow: none;
}

.sidebar-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    margin: 20px 0;
    box-shadow: none;
}

/* ========== SIDEBAR NAVIGATION - MINIMALISTA ========== */
.sidebar-nav {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.sidebar-link {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 16px 20px;
    background: transparent;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.9);
    text-decoration: none;
    font-weight: 400;
    font-size: 1rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: visible;
}

.sidebar-link::before {
    display: none;
}

.sidebar-link:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateX(-3px);
    box-shadow: none;
}

.sidebar-link-icon {
    font-size: 1.4rem;
    flex-shrink: 0;
    filter: none;
}

.sidebar-link-text {
    flex: 1;
    text-shadow: none;
}

.sidebar-item-display {
    cursor: default;
    pointer-events: none;
}

.sidebar-item-display:hover {
    background: transparent;
    border-color: rgba(255, 255, 255, 0.1);
    transform: none;
}

/* ========== NOTIFICAÇÃO MISTERIOSA (EASTER EGG) ========== */
.mystery-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(6px);
    z-index: 99999;
    display: none;
    opacity: 0;
    transition: opacity 0.4s ease;
}

.mystery-overlay.active {
    display: flex;
    opacity: 1;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.4s ease;
}

.mystery-notification {
    background: rgba(15, 15, 30, 0.85);
    border: 1px solid rgba(0, 68, 204, 0.3);
    border-radius: 16px;
    padding: 25px 20px;
    max-width: 380px;
    width: 85%;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0, 68, 204, 0.15);
    animation: slideUpFade 0.5s ease;
    position: relative;
}

.mystery-notification p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 1.05rem;
    line-height: 1.8;
    margin: 0;
    font-weight: 400;
}

@keyframes slideUpFade {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ========== RESPONSIVE ========== */
@media (max-width: 768px) {
    .sidebar-menu {
        width: 60%; /* 60% da tela no mobile, não 100% */
        max-width: 60vw;
        right: -60%;
    }
    
    .sidebar-content {
        padding: 70px 25px 30px;
    }
    
    .sidebar-link {
        padding: 14px 18px;
        font-size: 0.95rem;
    }
}
    
    .hamburger-menu {
        margin-left: 15px;
    }
}

@media (max-width: 768px) {
    .mobile-menu-btn {
        display: none; /* Não usado mais */
    }
    
    nav ul {
        display: none !important; /* Completamente escondido */
    }
    
    .hamburger-menu {
        margin-left: 15px;
    }
}

.hero {
    padding: 100px 5% 60px;
    text-align: center;
    max-width: 1200px;
    margin: 0 auto;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
}

.hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    line-height: 1.2;
    animation: none !important;
    font-weight: 800;
    letter-spacing: 1px;
}

.hero-subtitle {
    font-size: 1.3rem;
    color: var(--primary);
    margin-bottom: 25px;
    font-weight: 600;
}

.hero-description {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.75);
    max-width: 700px;
    margin: 0 auto 35px;
    line-height: 1.7;
    text-align: center;
}

.stats-grid-exact {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 12px;
    max-width: 580px;
    margin: 0 auto 35px;
}

.stat-card-left {
    grid-column: 1;
    grid-row: 1;
}

.stat-card-right {
    grid-column: 2;
    grid-row: 1;
}

.stat-card-bottom {
    grid-column: 1 / span 2;
    grid-row: 2;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.stat-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 15px 12px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 68, 204, 0.15);
}

.stat-number {
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 6px;
}

.stat-text {
    font-size: 0.9rem;
    color: var(--light);
    font-weight: 500;
}

.stat-line {
    font-size: 0.85rem;
    color: var(--light);
    font-weight: 500;
    line-height: 1.4;
}

.stat-emoji {
    font-size: 1.2rem;
    margin-top: 5px;
}

.stat-card-bottom .stat-number {
    font-size: 1.7rem;
}

.cta-button {
    display: inline-block;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
    padding: 18px 40px;
    border-radius: 50px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.15rem;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 8px 20px rgba(0, 68, 204, 0.4);
    margin-top: 15px;
}

.cta-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(0, 68, 204, 0.6);
}

.hero .cta-button[style*="pointer-events: none"]:hover {
    transform: none;
    box-shadow: 0 8px 20px rgba(0, 68, 204, 0.4);
}

@media (max-width: 768px) {
    .hero {
        padding: 100px 5% 60px;
    }
    
    .hero h1 {
        font-size: 2.5rem;
    }
    
    .hero-subtitle {
        font-size: 1.15rem;
    }
    
    .stats-grid-exact {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: auto auto;
        max-width: 450px;
    }
    
    .stat-card {
        padding: 16px 12px;
    }
    
    .stat-number {
        font-size: 1.6rem;
    }
    
    .cta-button {
        padding: 16px 35px;
        font-size: 1.05rem;
    }
}

/* LINHA DIVISÓRIA PROFISSIONAL */
.divider-line {
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    margin: 60px auto;
    max-width: 1000px;
}

/* FORM SECTION STYLES */
.form-section {
    padding: 80px 5%;
    background: transparent; /* REMOVIDO */
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
    animation-delay: 0.2s;
}

.form-section h2 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: var(--primary);
}

.section-subtitle {
    text-align: center;
    color: var(--gray);
    font-size: 1.1rem;
}

.form-container {
    max-width: 600px;
    margin: 0 auto;
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 20px;
    padding: 40px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.form-group {
    margin-bottom: 25px;
}

.form-group label {
    display: block;
    margin-bottom: 10px;
    color: var(--light);
    font-weight: 500;
    font-size: 1rem;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 15px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    color: white;
    font-size: 1rem;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary);
}

.checkbox-group {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--light);
    cursor: pointer;
    font-size: 0.95rem;
    padding: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
}

.checkbox-label input {
    width: auto;
}

/* FORM RESULT STYLES */
.form-result {
    padding: 80px 5%;
    background: transparent;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
}

.plan-sections {
    display: grid;
    gap: 40px;
    max-width: 1000px;
    margin: 0 auto;
}

.plan-section {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 30px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.plan-section h3 {
    color: var(--primary);
    margin-bottom: 20px;
    font-size: 1.4rem;
}

.routine-list {
    display: grid;
    gap: 15px;
}

.routine-item {
    display: flex;
    align-items: center;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
}

.routine-checkbox {
    width: 20px;
    height: 20px;
    border: 2px solid var(--primary);
    border-radius: 4px;
    margin-right: 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.routine-checkbox.checked {
    background: var(--primary);
}

.routine-checkbox.checked::after {
    content: '✓';
    color: white;
    font-size: 14px;
}

.environment-tips,
.nutrition-tips {
    display: grid;
    gap: 15px;
}

.tip-item {
    padding: 12px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
}

.tip-item strong {
    color: var(--primary);
}

@media (max-width: 768px) {
    .form-container {
        padding: 30px 20px;
    }
    
    .checkbox-group {
        grid-template-columns: 1fr;
    }
    
    .plan-sections {
        grid-template-columns: 1fr;
    }
}

/* SECTION BACKGROUNDS */
.quiz-animal-section,
.military-technique-section,
.sleep-quality-quiz-section,
.sleep-articles-section,
.testimonials,
.faq-section {
    padding: 80px 5%;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
}

.quiz-animal-section {
    background: transparent; /* REMOVIDO */
    animation-delay: 0.4s;
}

.military-technique-section {
    background: transparent; /* REMOVIDO */
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    animation-delay: 0.6s;
}

.sleep-quality-quiz-section {
    background: transparent; /* REMOVIDO */
    animation-delay: 0.8s;
}

.sleep-articles-section {
    background: transparent; /* REMOVIDO */
    animation-delay: 1s;
}

/* ========== 4 DISTÚRBIOS DO SONO - SCROLL HORIZONTAL ========== */
.disorders-scroll {
    --azul: #0044CC;
    --cinza-texto: #A0A0B0;
    --cinza-escuro: #808090;
    --borda-card: rgba(160, 160, 176, 0.12);
    
    width: 100%;
    padding: 60px 0;
    background: transparent;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeScroll 0.8s ease forwards;
}

.disorders-scroll-container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
}

.disorders-scroll-header {
    text-align: center;
    margin-bottom: 50px;
}

.disorders-scroll-selo {
    display: inline-block;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 1.2px;
    text-transform: uppercase;
    color: var(--azul);
    background: rgba(0,68,204,0.08);
    padding: 6px 14px;
    border-radius: 20px;
    margin-bottom: 16px;
    border: 1px solid rgba(0,68,204,0.15);
}

.disorders-scroll-title {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--azul);
    margin-bottom: 8px;
    letter-spacing: -0.5px;
}

.disorders-scroll-subtitle {
    font-size: 1.3rem;
    color: var(--cinza-escuro);
    font-weight: 300;
    margin-top: 0;
}

.scroll-hint-container {
    position: relative;
    width: 100%;
    max-width: 1320px;
    margin: 0 auto;
}

.scroll-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 48px;
    height: 48px;
    background: rgba(0,68,204,0.06);
    border: 2px solid rgba(0,68,204,0.15);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.6rem;
    color: var(--azul);
    cursor: pointer;
    z-index: 10;
    opacity: 0.6;
    transition: all 0.3s ease;
    user-select: none;
}

.scroll-arrow:hover {
    opacity: 1;
    background: rgba(0,68,204,0.12);
    transform: translateY(-50%) scale(1.1);
}

.scroll-arrow-left {
    left: -60px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.scroll-arrow-left.visible {
    opacity: 0.6;
    pointer-events: auto;
}

.scroll-arrow-right {
    right: -60px;
}

.disorders-scroll-track {
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
    padding: 12px 0 24px;
}

.disorders-scroll-track::-webkit-scrollbar {
    display: none;
}

.disorders-scroll-wrapper {
    display: flex;
    gap: 28px;
    width: fit-content;
    padding: 0 4px;
}

.disorders-scroll-card {
    width: 360px;
    min-width: 360px;
    background: transparent;
    border: 1px solid var(--borda-card);
    border-radius: 16px;
    padding: 28px 24px;
    transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.disorders-scroll-card:hover {
    transform: translateY(-8px);
    border-color: rgba(0,68,204,0.25);
    box-shadow: 0 16px 40px rgba(0,68,204,0.08);
}

.scroll-card-emoji {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: rgba(0,68,204,0.06);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    margin-bottom: 4px;
}

.scroll-card-title {
    font-size: 1.6rem;
    font-weight: 700;
    color: #FFFFFF;
    margin: 0 0 16px 0;
    letter-spacing: -0.3px;
}

.scroll-card-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 8px;
}

.scroll-tag {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--cinza-escuro);
    background: rgba(160,160,176,0.08);
    padding: 5px 10px;
    border-radius: 6px;
    border: 1px solid rgba(160,160,176,0.12);
}

.scroll-card-desc {
    font-size: 0.95rem;
    line-height: 1.65;
    color: var(--cinza-texto);
    margin-bottom: 12px;
}

.scroll-highlight {
    color: #FFFFFF;
    font-weight: 600;
}

.scroll-card-solucao {
    background: rgba(0,68,204,0.04);
    border-radius: 12px;
    padding: 18px;
    border-left: 3px solid var(--azul);
}

.solucao-titulo {
    display: block;
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.8px;
    text-transform: uppercase;
    color: var(--azul);
    margin-bottom: 14px;
    border-left: 3px solid var(--azul);
    padding-left: 10px;
}

.solucao-lista {
    list-style: none;
    padding: 0;
    margin: 0 0 14px 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.solucao-lista li {
    display: flex;
    gap: 10px;
    align-items: flex-start;
    font-size: 0.88rem;
    line-height: 1.5;
    color: var(--cinza-texto);
}

.solucao-num {
    min-width: 22px;
    height: 22px;
    border-radius: 50%;
    background: rgba(0,68,204,0.1);
    color: var(--azul);
    font-weight: 700;
    font-size: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-top: 2px;
}

.solucao-lista strong {
    color: #FFFFFF;
    font-weight: 600;
}

.solucao-evidencias {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding-top: 12px;
    border-top: 1px solid rgba(0,68,204,0.1);
    font-size: 0.8rem;
    color: var(--cinza-escuro);
    border-left: 3px solid var(--azul);
    padding-left: 10px;
}

.evidencia-scroll-tag {
    display: inline-block;
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    color: var(--azul);
    border: 1px solid var(--azul);
    padding: 3px 8px;
    border-radius: 4px;
    width: fit-content;
}

.scroll-spacer {
    min-width: 20px;
}

.scroll-dots {
    display: none;
    justify-content: center;
    gap: 8px;
    margin-top: 24px;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(160,160,176,0.3);
    transition: all 0.3s ease;
}

.dot.active {
    background: var(--azul);
    width: 24px;
    border-radius: 4px;
}

.scroll-hint-text {
    text-align: center;
    margin-top: 20px;
    font-size: 0.85rem;
    color: var(--cinza-escuro);
    opacity: 0.6;
}

.disorders-scroll-footer {
    margin-top: 48px;
    padding-top: 32px;
}

.scroll-sources {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    padding: 20px 0;
    border-top: 1px solid rgba(160,160,176,0.1);
    border-bottom: 1px solid rgba(160,160,176,0.1);
    color: var(--cinza-texto);
    font-size: 0.8rem;
    opacity: 0.8;
    gap: 20px;
}

.scroll-disclaimer {
    text-align: center;
    color: rgba(160,160,176,0.5);
    font-size: 0.7rem;
    margin-top: 24px;
    letter-spacing: 0.3px;
}

@media (max-width: 768px) {
    .disorders-scroll {
        padding: 40px 0;
    }
    
    .disorders-scroll-title {
        font-size: 2rem;
    }
    
    .disorders-scroll-subtitle {
        font-size: 1.2rem;
    }
    
    .disorders-scroll-card {
        width: 300px;
        padding: 22px 18px;
    }
    
    .scroll-card-title {
        font-size: 1.4rem;
    }
    
    .scroll-arrow {
        display: none;
    }
    
    .scroll-dots {
        display: flex;
    }
    
    .scroll-hint-text {
        display: block;
    }
    
    .scroll-sources {
        flex-direction: column;
        text-align: center;
        gap: 12px;
    }
}

@media (max-width: 480px) {
    .disorders-scroll-title {
        font-size: 1.7rem;
    }
    
    .disorders-scroll-card {
        width: 280px;
    }
    
    .scroll-card-emoji {
        width: 56px;
        height: 56px;
        font-size: 2.2rem;
    }
}

@media (min-width: 769px) {
    .scroll-hint-text {
        display: none;
    }
    
    .scroll-dots {
        display: none;
    }
}

@keyframes fadeScroll {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

.testimonials {
    background: transparent; /* REMOVIDO */
    animation-delay: 1.2s;
}

.faq-section {
    background: transparent; /* REMOVIDO */
    animation-delay: 1.4s;
}

/* SECTION HEADERS */
.section-header {
    text-align: center;
    margin-bottom: 40px;
}

.section-header h2 {
    font-size: 2.2rem;
    color: var(--primary);
    margin-bottom: 10px;
}

.section-subtitle {
    color: var(--gray);
    font-size: 1.1rem;
}

/* MILITARY TECHNIQUE STYLES */
.technique-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
    max-width: 1000px;
    margin-left: auto;
    margin-right: auto;
}

.technique-card {
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 15px;
    padding: 25px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.3s, border-color 0.3s;
}

.technique-card:hover {
    transform: translateY(-5px);
    border-color: rgba(65, 105, 225, 0.3);
    box-shadow: 0 10px 25px rgba(65, 105, 225, 0.1);
}

.card-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.technique-icon {
    font-size: 2rem;
    background: rgba(65, 105, 225, 0.1);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.technique-card h3 {
    color: var(--light);
    font-size: 1.3rem;
    flex: 1;
}

/* TÍTULOS DOS CARDS - COR AZUL DO SITE */
.card-title-blue {
    color: #4169E1 !important; /* AZUL DO SITE */
    font-size: 1.4rem !important;
    flex: 1;
    margin: 0 !important;
    font-weight: 700 !important;
}

.technique-steps {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.step {
    padding: 15px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border-left: 3px solid var(--primary);
}

.step-time {
    display: inline-block;
    color: var(--primary);
    font-weight: 600;
    margin-right: 8px;
    margin-bottom: 5px;
    font-size: 0.9rem;
    background: rgba(65, 105, 225, 0.1);
    padding: 3px 8px;
    border-radius: 4px;
}

.step-details {
    color: var(--gray);
    font-size: 0.95rem;
    line-height: 1.5;
}

.visualization-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 15px;
}

.visualization-option {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    border-left: 3px solid rgba(65, 105, 225, 0.5);
}

.vis-icon {
    font-size: 1.2rem;
    margin-top: 2px;
    flex-shrink: 0;
}

.vis-text {
    color: var(--gray);
    font-size: 0.92rem;
    line-height: 1.4;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 20px;
}

.result-item {
    text-align: center;
    padding: 15px 10px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.result-number {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 5px;
}

.result-label {
    color: var(--light);
    font-size: 0.85rem;
    font-weight: 500;
    margin-bottom: 3px;
}

.result-desc {
    color: var(--gray);
    font-size: 0.75rem;
}

/* RESULTADOS SIMPLIFICADOS - NOVO */
.simple-results {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

.simple-result-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.2s;
}

.simple-result-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(5px);
}

.simple-result-number {
    font-size: 2rem;
    font-weight: 800;
    color: #4169E1;
    min-width: 60px;
    text-align: center;
    flex-shrink: 0;
}

.simple-result-text {
    display: flex;
    flex-direction: column;
    gap: 3px;
    flex: 1;
}

.simple-result-label {
    color: var(--light);
    font-weight: 600;
    font-size: 1rem;
}

.simple-result-desc {
    color: var(--gray);
    font-size: 0.85rem;
}

.simple-research-note {
    padding: 15px;
    background: rgba(65, 105, 225, 0.05);
    border-radius: 8px;
    border: 1px solid rgba(65, 105, 225, 0.1);
    margin-top: 15px;
}

.simple-research-note p {
    color: var(--gray);
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.4;
    opacity: 0.9;
}

.technique-tip {
    margin-top: 15px;
    padding: 12px;
    background: rgba(65, 105, 225, 0.08);
    border-radius: 8px;
    color: var(--gray);
    font-size: 0.9rem;
    border: 1px solid rgba(65, 105, 225, 0.15);
}

.simple-tip-container {
    width: 100%;
    padding: 0;
    margin: 40px 0 0 0;
}

.simple-tip-box {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background: transparent;
    border-radius: 10px;
    max-width: 700px;
    margin: 0 auto;
}

.simple-tip-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
    color: #4169E1;
}

.simple-tip-text {
    color: var(--gray);
    font-size: 1rem;
    margin: 0;
    line-height: 1.5;
    opacity: 0.9;
}

.simple-tip-text strong {
    color: var(--light);
}

.results-card {
    padding: 25px !important;
}

.pro-tips-section {
    width: 100%;
    padding: 30px 0;
    margin: 30px 0;
    background: transparent;
    border: none;
}

.tips-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
    justify-content: center;
}

.tips-icon {
    font-size: 1.8rem;
    background: rgba(65, 105, 225, 0.2);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.tips-header h3 {
    color: var(--light);
    font-size: 1.4rem;
    margin: 0;
}

.tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
}

.pro-tip {
    display: flex;
    gap: 15px;
    align-items: flex-start;
}

.tip-number {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.9rem;
    flex-shrink: 0;
    margin-top: 2px;
}

.tip-content {
    color: var(--gray);
    font-size: 0.95rem;
    line-height: 1.5;
}

/* TESTIMONIALS STYLES */
.testimonials-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    max-width: 1000px;
    margin: 0 auto;
}

.testimonial-card {
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 10px;
    padding: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.testimonial-card:hover {
    transform: translateY(-5px);
    border-color: rgba(65, 105, 225, 0.3);
    box-shadow: 0 10px 25px rgba(65, 105, 225, 0.2);
}

.testimonial-text {
    color: var(--light);
    font-style: italic;
    margin-bottom: 15px;
    line-height: 1.4;
    font-size: 1.1rem;
    position: relative;
    padding-left: 15px;
    flex-grow: 1;
}

.testimonial-text::before {
    content: '"';
    font-size: 1.6rem;
    color: var(--primary);
    position: absolute;
    left: -5px;
    top: -5px;
    opacity: 0.7;
}

.testimonial-author {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.author-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 12px;
    font-weight: bold;
    font-size: 0.9rem;
    box-shadow: 0 2px 8px rgba(65, 105, 225, 0.3);
}

.author-info {
    flex: 1;
}

.author-info h4 {
    color: var(--light);
    margin-bottom: 3px;
    font-size: 1.2rem;
}

.author-info p {
    color: var(--gray);
    font-size: 0.8rem;
}

.stars-rating {
    color: gold;
    font-size: 1.2rem;
    text-align: right;
    margin-top: auto;
}

/* QUIZ CONTAINER STYLES */
.quiz-container,
.sleep-quiz-container {
    max-width: 800px;
    margin: 0 auto;
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 20px;
    padding: 40px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.quiz-step,
.sleep-quiz-step {
    display: none;
}

.quiz-step.active,
.sleep-quiz-step.active {
    display: block;
}

.quiz-question,
.sleep-quiz-question {
    font-size: 1.4rem;
    color: var(--primary);
    margin-bottom: 30px;
    text-align: center;
}

.quiz-options,
.sleep-quiz-options {
    display: grid;
    gap: 12px;
    margin-bottom: 30px;
}

.quiz-option,
.sleep-quiz-option {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid transparent;
    border-radius: 12px;
    padding: 18px;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    font-size: 1.1rem;
    color: var(--light);
}

.quiz-option:hover,
.sleep-quiz-option:hover {
    background: rgba(65, 105, 225, 0.2);
    border-color: var(--primary);
}

.quiz-option.selected,
.sleep-quiz-option.selected {
    background: rgba(65, 105, 225, 0.3);
    border-color: var(--primary);
}

.quiz-navigation,
.sleep-quiz-navigation {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
}

.quiz-btn {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 600;
    transition: transform 0.3s;
    white-space: nowrap;
    min-width: 120px;
}

.quiz-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(65, 105, 225, 0.4);
}

.quiz-progress {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 15px;
}

.progress-bar {
    flex: 1;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    width: 0%;
    transition: width 0.3s;
}

/* ANIMAL IMAGE CONTAINER */
.animal-image-container {
    width: 300px;
    height: 300px;
    margin: 0 auto 30px;
    border-radius: 20px;
    overflow: hidden;
    border: 3px solid var(--primary);
    box-shadow: 0 10px 30px rgba(65, 105, 225, 0.3);
}

.animal-image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
}

.animal-image-container img:hover {
    transform: scale(1.05);
}

/* ANIMAL RESULT STYLES */
.animal-result {
    text-align: center;
}

.animal-title {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 20px;
}

.animal-description {
    color: var(--gray);
    line-height: 1.6;
    margin-bottom: 30px;
    font-size: 1.1rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.animal-traits {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 25px;
    margin: 30px 0;
    text-align: left;
}

.animal-traits h4 {
    color: var(--primary);
    margin-bottom: 15px;
    text-align: center;
    font-size: 1.2rem;
}

.animal-traits ul {
    list-style: none;
    padding: 0;
}

.animal-traits li {
    padding: 10px 0;
    color: var(--gray);
    position: relative;
    padding-left: 25px;
}

.animal-traits li:before {
    content: '✓';
    color: var(--primary);
    position: absolute;
    left: 0;
}

.action-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
}

/* SLEEP QUIZ RESULT STYLES */
.sleep-quiz-result {
    text-align: center;
    display: none;
}

.sleep-result-content {
    animation: fadeInUp 0.6s ease;
}

.sleep-score-container {
    margin: 0 auto 40px;
    max-width: 300px;
}

.sleep-score-circle {
    width: 200px;
    height: 200px;
    margin: 0 auto;
    position: relative;
    border-radius: 50%;
    background: conic-gradient(
        var(--primary) 0%,
        var(--primary) 0%,
        rgba(255, 255, 255, 0.1) 0%
    );
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 15px 35px rgba(65, 105, 225, 0.3);
    transition: all 1s ease;
}

.sleep-score-circle::before {
    content: '';
    position: absolute;
    width: 170px;
    height: 170px;
    background: rgba(15, 15, 30, 0.9);
    border-radius: 50%;
    z-index: 1;
}

.sleep-score-value {
    position: relative;
    z-index: 2;
    font-size: 3rem;
    font-weight: 800;
    color: var(--primary);
    text-shadow: 0 2px 10px rgba(65, 105, 225, 0.5);
    transition: all 0.5s ease;
}

.sleep-score-label {
    color: var(--gray);
    font-size: 1rem;
    margin-top: 5px;
    font-weight: 500;
}

.sleep-quality-text {
    font-size: 1.8rem;
    color: var(--light);
    margin-bottom: 10px;
    font-weight: 600;
}

.category-analysis {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 30px;
    margin: 30px 0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.category-analysis h4 {
    color: var(--primary);
    margin-bottom: 25px;
    text-align: center;
    font-size: 1.4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.category-item {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    border-left: 4px solid;
    transition: all 0.3s;
}

.category-item:hover {
    transform: translateY(-3px);
    background: rgba(255, 255, 255, 0.05);
}

.category-item.good {
    border-left-color: var(--primary);
}

.category-item.regular {
    border-left-color: rgba(65, 105, 225, 0.7);
}

.category-item.bad {
    border-left-color: rgba(65, 105, 225, 0.9);
}

.category-name {
    font-weight: 600;
    color: var(--light);
    margin-bottom: 5px;
    font-size: 1rem;
}

.category-status {
    font-size: 0.9rem;
    font-weight: 500;
}

.category-item.good .category-status {
    color: var(--primary);
}

.category-item.regular .category-status {
    color: rgba(65, 105, 225, 0.7);
}

.category-item.bad .category-status {
    color: rgba(65, 105, 225, 0.9);
}

/* FAQ STYLES */
.faq-container {
    max-width: 800px;
    margin: 0 auto;
}

.faq-item {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    margin-bottom: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
    transition: all 0.3s;
}

.faq-item.active {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--primary);
}

.faq-question {
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.faq-question h3 {
    color: var(--light);
    font-size: 1.2rem;
    margin: 0;
    flex: 1;
}

.faq-toggle {
    color: var(--primary);
    font-size: 1.5rem;
    font-weight: bold;
    transition: transform 0.3s;
    margin-left: 20px;
}

.faq-item.active .faq-toggle {
    transform: rotate(45deg);
}

.faq-answer {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, padding 0.3s ease;
}

.faq-item.active .faq-answer {
    padding: 0 20px 20px 20px;
    max-height: 500px;
}

.faq-answer p {
    color: var(--gray);
    line-height: 1.6;
    margin: 0;
}

/* SLEEP ARTICLES STYLES */
.articles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    margin-bottom: 60px;
}

.article-category {
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 15px;
    padding: 30px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s, box-shadow 0.3s;
}

.article-category:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
}

.category-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.category-icon {
    font-size: 2rem;
    background: rgba(65, 105, 225, 0.1);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.article-category h3 {
    color: var(--light);
    font-size: 1.5rem;
    margin: 0;
}

.article-card {
    margin-bottom: 25px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border-left: 3px solid var(--primary);
    transition: all 0.3s;
}

.article-card:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(5px);
}

.article-card h4 {
    color: var(--primary);
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.article-card p {
    color: var(--gray);
    line-height: 1.6;
    margin-bottom: 15px;
}

.article-stats {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
}

.stat {
    background: rgba(65, 105, 225, 0.1);
    color: var(--primary);
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 500;
}

.article-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.article-list li {
    color: var(--gray);
    padding: 8px 0;
    padding-left: 25px;
    position: relative;
    line-height: 1.5;
}

.article-list li:before {
    content: '•';
    color: var(--primary);
    position: absolute;
    left: 0;
    font-size: 1.5rem;
}

/* FOOTER STYLES */
footer {
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    /* backdrop-filter: blur(10px); REMOVIDO */
    padding: 60px 5% 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    color: var(--gray);
}

footer p {
    margin: 10px 0;
    font-size: 0.9rem;
}

footer .warning {
    font-size: 1.1rem;
    color: var(--light);
    margin-bottom: 20px;
    font-weight: 500;
    color: #ff6b6b;
}

footer .disclaimer {
    font-size: 1rem;
    color: var(--gray);
    max-width: 800px;
    margin: 0 auto 30px;
    line-height: 1.6;
}

@media (max-width: 768px) {
    .animal-image-container {
        width: 250px;
        height: 250px;
    }
    
    .technique-grid {
        grid-template-columns: 1fr;
    }
    
    .quiz-container,
    .sleep-quiz-container {
        padding: 30px 20px;
    }
    
    .quiz-question,
    .sleep-quiz-question {
        font-size: 1.2rem;
    }
    
    .quiz-navigation,
    .sleep-quiz-navigation {
        flex-direction: column;
        gap: 15px;
    }
    
    .testimonials-container {
        grid-template-columns: 1fr;
    }
    
    .faq-question h3 {
        font-size: 1.1rem;
    }
    
    .articles-grid {
        grid-template-columns: 1fr;
    }
    
    .results-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .tips-grid {
        grid-template-columns: 1fr;
    }
    
    .tips-header {
        flex-direction: column;
        text-align: center;
        gap: 10px;
    }
}

@media (max-width: 480px) {
    .animal-image-container {
        width: 200px;
        height: 200px;
    }
    
    .section-header h2 {
        font-size: 1.8rem;
    }
    
    .article-category {
        padding: 25px 20px;
    }
    
    .results-grid {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .technique-card {
        padding: 20px;
    }
    
    .pro-tips-section {
        padding: 25px 20px;
    }
}

        
        
        
        /* ========== CSS DO SDS ========== */
:root {
    --primary: #0044CC;
    --primary-dark: #0033A0;
    --secondary: #0033A0;
    --dark: #0F0F1E;
    --darker: #070712;
    --light: #FFFFFF;
    --gray: #A0A0B0;
    --accent: #0044CC; /* MESMA cor do primary (NÃO azul ciano) */
    --card-bg: rgba(255, 255, 255, 0.05);
    --warning: #FF4444;
    --success: #00CC66;


        /* ========== CSS PÁGINA SDS ========== */
    --yellow: #FFCC00;
    --purple: #9C27B0;
    --pink: #E91E63;
    --orange: #FF9800;
    --fire-red: #FF4444;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: var(--darker);
    color: var(--light);
    overflow-x: hidden;
    position: relative;
    scroll-behavior: smooth;
}

.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.star {
    position: absolute;
    background-color: white;
    border-radius: 50%;
    animation: twinkle 3s infinite ease-in-out;
}

@keyframes twinkle {
    0%, 100% { 
        opacity: 0.2;
        transform: scale(0.8);
    }
    50% { 
        opacity: 1;
        transform: scale(1.2);
    }
}

/* ========== HEADER CORRIGIDO ========== */
.app-header {
    background: rgba(15, 15, 30, 0.95);
    backdrop-filter: blur(10px);
    padding: 15px 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 100; /* REDUZIDO: fica ATRÁS do menu */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    color: var(--primary);
    font-size: 1.5rem;
    font-weight: 700;
}

.hamburger-menu {
    background: none;
    border: none;
    color: var(--primary);
    font-size: 1.8rem;
    cursor: pointer;
    padding: 5px;
    z-index: 101;
    position: relative;
    transition: transform 0.3s ease;
}

.hamburger-menu:hover {
    transform: scale(1.1);
}


/* ========== MAIN CONTENT ========== */


.welcome-section {
    text-align: center;
    margin-bottom: 60px;
    padding: 0; /* REMOVIDO padding */
    margin-top: -40px; /* SUBIR conteúdo */
}

.welcome-intro {
    background: transparent;
    border: none;
    padding: 0;
    margin: 0;
}

.welcome-acronym {
    background: linear-gradient(135deg, var(--primary), #0066CC);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-size: 2.8rem;
    font-weight: 800;
    margin-bottom: 10px;
    letter-spacing: 0px;
}

.welcome-section h1 {
    color: var(--primary);
    font-size: 1.8rem;
    margin-bottom: 25px;
    font-weight: 700;
}

.welcome-description {
    color: var(--light);
    font-size: 1.2rem;
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto 20px;
    text-align: center;
    font-weight: 400;
}

.ai-indicator {
    color: var(--primary); /* Azul #0044CC (NÃO ciano) */
    font-weight: 600;
}

/* Seção de Explicação da SdS */
.sd-section {
    margin-bottom: 20px;
    padding: 0;
}

.sd-message {
    color: var(--light);
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 20px;
    text-align: left;
    padding: 18px 22px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border-left: 2px solid var(--primary);
    position: relative;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.sd-message:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

/* ========== RASTRO NOTURNO ========== */
.sleep-monitor {
    background: var(--card-bg);
    border-radius: 20px; /* Aumentado de 16px */
    padding: 35px; /* Aumentado de 25px */
    margin-bottom: 50px; /* Aumentado de 40px */
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.section-title {
    font-size: 1.8rem; /* Aumentado de 1.5rem */
    color: var(--primary);
    margin-bottom: 30px; /* Aumentado de 25px */
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 10px;
}

.section-title .emoji {
    color: var(--primary);
    font-size: 1.7rem; /* Aumentado de 1.4rem */
}

.week-calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 10px;
    margin-bottom: 25px;
}

.day-header {
    text-align: center;
    color: var(--gray);
    font-size: 0.85rem;
    padding: 10px 0;
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 1px;
}

.day-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    transition: transform 0.3s ease;
}

.day-container:hover {
    transform: translateY(-3px);
}

.day-emoji {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.6rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
}

.day-emoji.selected {
    background: rgba(0, 68, 204, 0.15);
    border-color: var(--primary);
    box-shadow: 0 5px 15px rgba(0, 68, 204, 0.2);
    transform: scale(1.05);
}

.day-number {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid transparent;
    font-size: 0.95rem;
}

.day-number.today {
    border-color: var(--primary);
    background: rgba(0, 68, 204, 0.1);
    color: var(--light);
}

.sleep-question {
    text-align: center;
    margin: 25px 0;
    padding: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.sleep-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
}

.sleep-option {
    padding: 14px 15px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    font-size: 0.95rem;
}

.sleep-option:hover:not(.disabled) {
    background: rgba(0, 68, 204, 0.2);
    border-color: rgba(0, 68, 204, 0.4);
    transform: translateY(-2px);
}

.sleep-option.selected {
    background: rgba(0, 68, 204, 0.25);
    border-color: var(--primary);
    box-shadow: 0 5px 15px rgba(0, 68, 204, 0.2);
}

.sleep-option.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.sleep-tips {
    margin-top: 20px;
    padding: 20px;
    background: rgba(0, 68, 204, 0.1);
    border-radius: 12px;
    border-left: 4px solid var(--primary);
    display: none;
}

.sleep-tips.active {
    display: block;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.tips-title {
    color: var(--primary);
    margin-bottom: 15px;
    font-size: 1.1rem;
    font-weight: 600;
}

.tips-list {
    list-style: none;
}

.tip-item {
    padding: 8px 0;
    color: var(--light);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    font-size: 0.95rem;
}

.tip-item:last-child {
    border-bottom: none;
}

/* ========== PROTOCOLO 7 (CORRIGIDO: APENAS 1 🔥) ========== */
.challenge-section {
    background: var(--card-bg);
    border-radius: 20px; /* Aumentado de 16px */
    padding: 35px; /* Aumentado de 25px */
    margin-bottom: 50px; /* Aumentado de 40px */
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.challenge-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

/* REMOVIDO: .challenge-icon - APENAS 1 🔥 no título */

#challenge .section-title .emoji {
    color: var(--fire-red);
}

.challenge-days {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
    gap: 10px;
    margin-bottom: 25px;
}

.challenge-day {
    background: rgba(255, 255, 255, 0.06);
    border-radius: 10px;
    padding: 15px 8px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.12);
    position: relative;
    overflow: hidden;
}

.challenge-day:hover:not(.locked):not(.completed) {
    background: rgba(255, 68, 68, 0.15);
    border-color: rgba(255, 68, 68, 0.4);
    transform: translateY(-3px);
}

.challenge-day.active {
    background: rgba(255, 68, 68, 0.2);
    border-color: var(--fire-red);
    box-shadow: 0 5px 15px rgba(255, 68, 68, 0.2);
}

.challenge-day.completed {
    background: rgba(255, 68, 68, 0.15);
    border-color: rgba(255, 68, 68, 0.5);
    cursor: default;
}

.challenge-day.locked {
    opacity: 0.4;
    cursor: not-allowed;
}

.day-number-circle {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.06);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 8px;
    font-weight: 700;
    font-size: 1.1rem;
}

.challenge-day.active .day-number-circle {
    background: rgba(255, 68, 68, 0.25);
    color: var(--fire-red);
}

.challenge-day.completed .day-number-circle {
    background: rgba(255, 68, 68, 0.2);
    color: rgba(255, 68, 68, 0.8);
}

.day-title {
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 4px;
}

.day-level {
    font-size: 0.75rem;
    color: var(--gray);
}

.locked-icon {
    position: absolute;
    top: 8px;
    right: 8px;
    font-size: 1.2rem;
    opacity: 0.7;
    color: #888888;
    filter: grayscale(100%);
}

.completed-icon {
    position: absolute;
    top: 5px;
    right: 5px;
    color: var(--fire-red);
    font-size: 0.9rem;
}

/* ========== FLUXO NÍVORA (CORRIGIDO: APENAS 1 🌬️) ========== */
.breathing-guide {
    background: var(--card-bg);
    border-radius: 20px; /* Aumentado de 16px */
    padding: 35px; /* Aumentado de 25px */
    margin-bottom: 50px; /* Aumentado de 40px */
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.breathing-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

/* REMOVIDO: .breathing-icon - APENAS 1 🌬️ no título */

.time-selection {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 10px;
    margin-bottom: 20px;
}

.time-option {
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.12);
    font-size: 0.95rem;
    text-align: center;
    min-height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--light);
}

.time-option:hover {
    background: rgba(0, 68, 204, 0.15);
    border-color: rgba(0, 68, 204, 0.3);
}

.time-option.selected {
    background: rgba(0, 68, 204, 0.2);
    border-color: var(--primary);
    color: var(--primary);
    box-shadow: 0 5px 15px rgba(0, 68, 204, 0.2);
}

.breathing-instruction-sd {
    color: var(--light);
    font-size: 1rem;
    line-height: 1.5;
    margin-bottom: 20px;
    text-align: center;
    padding: 15px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 10px;
    display: none;
    border-left: 2px solid var(--primary);
}

.breathing-instruction-sd .ai-indicator {
    color: var(--primary);
    font-weight: 600;
}

.start-breathing-btn {
    background: linear-gradient(135deg, var(--primary), #0033A0);
    color: white;
    border: none;
    padding: 16px 35px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1.1rem;
    display: block;
    margin: 25px auto;
    letter-spacing: 0.5px;
    box-shadow: 0 8px 20px rgba(0, 68, 204, 0.3);
}

.start-breathing-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 25px rgba(0, 68, 204, 0.4);
    background: linear-gradient(135deg, #0033A0, var(--primary));
}

.breathing-controls-container {
    background: rgba(0, 68, 204, 0.05);
    border-radius: 12px;
    padding: 20px;
    border: 1px solid rgba(0, 68, 204, 0.2);
    margin-bottom: 25px;
    display: none;
}

.breathing-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
}

.control-button {
    background: rgba(255, 255, 255, 0.08);
    color: var(--light);
    border: 1px solid var(--primary);
    padding: 12px 25px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 120px;
    justify-content: center;
}

.control-button:hover:not(:disabled) {
    background: rgba(0, 68, 204, 0.15);
    transform: translateY(-2px);
}

.control-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.breathing-display {
    text-align: center;
    padding: 30px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    margin-bottom: 20px;
    display: none;
    position: relative;
    overflow: hidden;
}

.breathing-display.active {
    display: block;
    animation: pulseSoft 2s infinite;
}

@keyframes pulseSoft {
    0%, 100% { box-shadow: 0 0 0 0 rgba(0, 68, 204, 0.1); }
    50% { box-shadow: 0 0 0 10px rgba(0, 68, 204, 0); }
}

.breathing-phase {
    font-size: 1.8rem;
    color: var(--primary);
    margin-bottom: 10px;
    font-weight: 700;
}

.breathing-instruction {
    font-size: 1.1rem;
    color: var(--light);
    margin-bottom: 20px;
    font-weight: 500;
}

.breathing-timer {
    font-size: 4rem;
    font-weight: 800;
    color: var(--light);
    margin: 20px 0;
    font-family: 'Courier New', monospace;
}

.progress-container {
    width: 100%;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    margin: 20px 0;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), #0066CC);
    border-radius: 3px;
    width: 0%;
    transition: width 1s linear;
}

.time-remaining {
    color: var(--gray);
    font-size: 0.9rem;
    margin-top: 15px;
}

/* ========== NOTIFICAÇÕES RESTAURADAS (Design Original) ========== */
.challenge-mission-modal,
.acceptance-modal,
.completion-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.challenge-mission-modal.active,
.acceptance-modal.active,
.completion-modal.active {
    opacity: 1;
    visibility: visible;
}

/* DESIGN ORIGINAL RESTAURADO: blur + opacidade 85% */
.mission-content,
.acceptance-content,
.completion-content {
    background: rgba(10, 10, 26, 0.85); /* OPACIDADE 85% (NÃO 95%) */
    backdrop-filter: blur(20px); /* EFEITO DE VIDRO FOSCO RESTAURADO */
    border-radius: 15px;
    padding: 25px;
    max-width: 450px;
    width: 90%;
    border: 1px solid var(--primary); /* Borda azul fina */
    position: relative;
}

.acceptance-content,
.completion-content {
    border-color: var(--primary);
}

.completion-content {
    max-width: 550px;
    max-height: 80vh;
    overflow-y: auto;
}

.mission-header {
    text-align: center;
    margin-bottom: 20px;
}

.mission-title {
    color: var(--light);
    font-size: 1.5rem;
    margin-bottom: 8px;
    font-weight: 700;
}

.mission-level {
    color: var(--primary);
    font-size: 1rem;
    font-weight: 600;
}

.sd-mission-message {
    color: var(--light);
    font-size: 1rem;
    line-height: 1.5;
    margin-bottom: 25px;
    text-align: left;
}

.mission-actions {
    display: flex;
    justify-content: center;
    gap: 15px;
}

.mission-btn {
    padding: 12px 25px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1rem;
    min-width: 130px;
    border: 1px solid;
    background: rgba(255, 255, 255, 0.1);
}

.accept-btn {
    color: var(--primary);
    border-color: var(--primary);
}

.accept-btn:hover {
    background: rgba(0, 68, 204, 0.2); /* Opacidade 0.2 */
    transform: translateY(-2px);
}

.decline-btn {
    color: var(--warning);
    border-color: var(--warning);
}

.decline-btn:hover {
    background: rgba(255, 68, 68, 0.2); /* Opacidade 0.2 */
    transform: translateY(-2px);
}

.close-mission {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    color: var(--primary);
    font-size: 1.2rem;
    cursor: pointer;
}

.acceptance-message {
    color: var(--light);
    font-size: 1rem;
    line-height: 1.5;
    margin-bottom: 20px;
    text-align: left;
}

.acceptance-ok {
    padding: 12px 30px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1rem;
    border: 1px solid var(--primary);
    background: rgba(0, 68, 204, 0.15);
    color: var(--primary);
    display: block;
    margin: 0 auto;
}

.acceptance-ok:hover {
    background: rgba(0, 68, 204, 0.25);
    transform: translateY(-2px);
}

.completion-message {
    color: var(--light);
    font-size: 1rem;
    line-height: 1.6;
    text-align: left;
    opacity: 0;
}

.completion-signature {
    color: var(--primary);
    font-size: 1.1rem;
    font-weight: 600;
    text-align: right;
    margin-top: 20px;
    font-style: italic;
}

.completion-ok {
    padding: 12px 30px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1rem;
    border: 1px solid var(--primary);
    background: rgba(0, 68, 204, 0.15);
    color: var(--primary);
    display: block;
    margin: 20px auto 0;
}

.completion-ok:hover {
    background: rgba(0, 68, 204, 0.25);
    transform: translateY(-2px);
}

/* ========== HISTÓRICO ========== */
.history-section {
    margin-top: 40px;
}

.dashboard-grid {
    display: grid;
    gap: 20px;
}

.dashboard-card {
    background: var(--card-bg);
    border-radius: 16px;
    padding: 25px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    min-height: 150px;
    transition: all 0.3s ease;
}

.dashboard-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.2);
}

.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    color: var(--gray);
}

.empty-line {
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    margin: 12px 0;
}

.warning-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background: linear-gradient(135deg, var(--warning), #FF6B6B);
    color: white;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.quiz-prompt {
    margin-top: 15px;
    color: var(--warning);
    font-weight: 600;
    font-size: 0.9rem;
}

/* ========== RESPONSIVO ========== */
@media (max-width: 768px) {
    .app-container {
        margin: 100px auto 0;
        padding: 0 15px 30px;
    }
    
    .welcome-acronym {
        font-size: 2.2rem;
    }
    
    .welcome-section h1 {
        font-size: 1.6rem;
    }
    
    .welcome-description {
        font-size: 1.1rem;
    }
    
    .sleep-options {
        grid-template-columns: 1fr;
    }
    
    .week-calendar {
        gap: 8px;
    }
    
    .day-emoji {
        width: 38px;
        height: 38px;
        font-size: 1.4rem;
    }
    
    .day-number {
        width: 32px;
        height: 32px;
        font-size: 0.9rem;
    }
    
    .challenge-days {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .mission-actions {
        flex-direction: column;
        gap: 10px;
    }
    
    .mission-btn {
        min-width: 100%;
    }
    
    .time-selection {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .breathing-controls {
        flex-direction: column;
        align-items: center;
    }
    
    .control-button {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .app-header {
        padding: 12px 15px;
    }
    
    .logo {
        font-size: 1.3rem;
    }
    
    .hamburger-menu {
        font-size: 1.5rem;
    }
    
    .welcome-acronym {
        font-size: 1.8rem;
    }
    
    .welcome-section h1 {
        font-size: 1.4rem;
    }
    
    .welcome-description {
        font-size: 1rem;
    }
    
    .sleep-monitor,
    .challenge-section,
    .breathing-guide,
    .dashboard-card {
        padding: 20px 15px;
    }
    
    .menu-content {
        width: 250px;
    }
    
    .challenge-days {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .day-emoji {
        width: 36px;
        height: 36px;
        font-size: 1.3rem;
    }
    
    .day-number {
        width: 30px;
        height: 30px;
        font-size: 0.85rem;
    }
    
    .time-selection {
        grid-template-columns: 1fr;
    }
}

/* ========== LOADING ========== */
.loading {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--darker);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.loading.hidden {
    opacity: 0;
    visibility: hidden;
}

.loading-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(255, 255, 255, 0.1);
    border-top: 4px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

        
        
        
        /* ========== CSS DO GERAL ========== */
:root {
    --primary: #0044CC; /* AZUL SOLICITADO */
    --secondary: #0033A0;
    --dark: #0F0F1E;
    --darker: #070712;
    --light: #FFFFFF;
    --gray: #A0A0B0;
}

* {
    margin: 0;
    padding: 0;


        /* ========== CSS PÁGINA GERAL ========== */
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: var(--darker);
    color: var(--light);
    overflow-x: hidden;
    position: relative;
    line-height: 1.6;
    scroll-behavior: smooth; /* Scroll suave global */
}

.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.star {
    position: absolute;
    background-color: white;
    border-radius: 50%;
    animation: twinkle 3s infinite ease-in-out;
}

@keyframes twinkle {
    0%, 100% { 
        opacity: 0.2;
        transform: scale(0.8);
    }
    50% { 
        opacity: 1;
        transform: scale(1.2);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

header {
    padding: 20px 5%;
    background-color: rgba(15, 15, 30, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary);
}

/* MENU HAMBURGER */
.mobile-menu-btn {
    background: none;
    border: none;
    color: var(--light);
    font-size: 1.8rem;
    cursor: pointer;
    padding: 5px 10px;
    z-index: 1001;
    transition: all 0.3s;
}

.mobile-menu-btn:hover {
    color: var(--primary);
    transform: scale(1.1);
}

.mobile-menu {
    position: fixed;
    top: 0;
    right: -300px;
    width: 250px;
    height: 100vh;
    background: rgba(15, 15, 30, 0.98);
    backdrop-filter: blur(15px);
    z-index: 999;
    transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    padding: 80px 20px 20px;
    box-shadow: -5px 0 25px rgba(0, 0, 0, 0.4);
    border-left: 1px solid rgba(255, 255, 255, 0.1);
    overflow-y: auto;
}

.mobile-menu.show {
    right: 0;
}

/* Botão de fechar (X) no menu - AUMENTADO */
.mobile-menu-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    color: var(--light);
    font-size: 2rem; /* Aumentado de 1.5rem para 2rem */
    cursor: pointer;
    width: 40px; /* Aumentado de 30px para 40px */
    height: 40px; /* Aumentado de 30px para 40px */
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    transition: all 0.3s;
    border-radius: 50%;
    font-weight: 300;
}

.mobile-menu-close:hover {
    color: var(--primary);
    background: rgba(255, 255, 255, 0.1);
    transform: scale(1.1);
}

.mobile-menu ul {
    list-style: none;
}

.mobile-menu li {
    margin-bottom: 10px;
}

.mobile-menu a {
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--light);
    text-decoration: none;
    padding: 12px 15px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
    font-size: 0.95rem;
}

.mobile-menu a:hover {
    background: rgba(0, 68, 204, 0.15);
    border-color: rgba(0, 68, 204, 0.3);
    transform: translateX(-5px);
}

/* Emoji no final dos itens do menu - MAIS PRÓXIMO */
.menu-emoji {
    font-size: 1rem;
    margin-left: 3px; /* Reduzido de 5px para 3px */
}

/* MODIFICAÇÃO 3: Remover backdrop blur do overlay */
.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.0); /* Removida a opacidade escura */
    backdrop-filter: blur(0); /* Removido o efeito de desfoque */
    z-index: 998;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s;
}

.menu-overlay.show {
    opacity: 1;
    visibility: visible;
}

.hero {
    padding: 100px 5% 50px;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
}

.hero h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: var(--primary);
    line-height: 1.2;
}

.hero-description {
    font-size: 1.1rem;
    color: var(--gray);
    max-width: 800px;
    margin: 0 auto 30px;
    line-height: 1.7;
}

.section {
    padding: 80px 5%;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease forwards;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.section:last-child {
    border-bottom: none;
}

.section:nth-child(2) { animation-delay: 0.2s; }
.section:nth-child(3) { animation-delay: 0.4s; }
.section:nth-child(4) { animation-delay: 0.6s; }
.section:nth-child(5) { animation-delay: 0.8s; }
.section:nth-child(6) { animation-delay: 1s; }

.container {
    max-width: 800px;
    margin: 0 auto;
}

.section h2 {
    font-size: 2rem;
    margin-bottom: 40px;
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    text-align: center;
}

/* ABOUT SECTION - SCROLL MAIS SUAVE */
.about-content {
    color: var(--gray);
    text-align: justify;
}

.about-summary {
    margin-bottom: 25px;
}

.read-more-text {
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transition: max-height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                opacity 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.read-more-text.show {
    max-height: 2000px;
    opacity: 1;
    margin-top: 20px;
    margin-bottom: 20px;
}

.read-more-btn {
    background: none;
    border: none;
    color: var(--primary);
    cursor: pointer;
    font-size: 1rem;
    padding: 10px 15px;
    border-radius: 5px;
    transition: all 0.3s;
    display: inline-flex;
    align-items: center;
    gap: 5px;
    margin-top: 10px;
    font-weight: bold;
}

.read-more-btn:hover {
    background: rgba(0, 68, 204, 0.1);
    transform: translateY(-2px);
}

/* PRIVACY SECTION */
.privacy-item {
    margin-bottom: 25px;
    padding: 25px;
    background-color: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.privacy-item h3 {
    color: var(--primary);
    margin-bottom: 12px;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.privacy-item p {
    color: var(--gray);
    line-height: 1.6;
}

/* TERMS SECTION (nova) */
.terms-item {
    margin-bottom: 25px;
    padding: 25px;
    background-color: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.terms-item h3 {
    color: var(--primary);
    margin-bottom: 12px;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.terms-item p {
    color: var(--gray);
    line-height: 1.6;
}

/* CONTACT SECTION */
.contact-info {
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 15px;
    padding: 40px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    text-align: center;
}

.contact-info h3 {
    color: var(--primary);
    margin-bottom: 20px;
    font-size: 1.3rem;
}

.contact-email {
    font-size: 1.2rem;
    color: var(--light);
    background: rgba(0, 68, 204, 0.1);
    padding: 15px 30px;
    border-radius: 10px;
    display: inline-block;
    margin: 20px 0;
    border: 1px solid rgba(0, 68, 204, 0.3);
    transition: all 0.3s;
    font-weight: 500;
    text-decoration: none;
}

.contact-email:hover {
    background: rgba(0, 68, 204, 0.2);
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0, 68, 204, 0.2);
}

.contact-description {
    color: var(--gray);
    line-height: 1.6;
    margin-top: 20px;
}

/* FEEDBACK SECTION */
.feedback-form {
    background: transparent; /* TOTALMENTE TRANSPARENTE */
    border-radius: 15px;
    padding: 40px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.rating-section {
    text-align: center;
    margin-bottom: 30px;
}

.rating-section h3 {
    color: var(--primary);
    margin-bottom: 20px;
    font-size: 1.3rem;
}

.stars-rating-input {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 15px;
}

.star-input {
    font-size: 2.5rem;
    color: var(--gray);
    cursor: pointer;
    transition: color 0.3s, transform 0.2s;
}

.star-input:hover {
    transform: scale(1.1);
}

.star-input.active {
    color: gold;
}

.rating-text {
    color: var(--gray);
    font-size: 0.9rem;
    min-height: 20px;
}

.comment-section {
    margin-bottom: 30px;
}

.comment-section h3 {
    color: var(--primary);
    margin-bottom: 15px;
    font-size: 1.3rem;
}

#feedback-comment {
    width: 100%;
    height: 120px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    color: white;
    font-size: 1rem;
    resize: vertical;
    transition: all 0.3s;
}

#feedback-comment:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(255, 255, 255, 0.12);
    box-shadow: 0 0 0 3px rgba(0, 68, 204, 0.2);
}

.char-count {
    text-align: right;
    color: var(--gray);
    font-size: 0.9rem;
    margin-top: 5px;
}

.name-section {
    margin-bottom: 30px;
}

.name-section h3 {
    color: var(--primary);
    margin-bottom: 15px;
    font-size: 1.3rem;
}

#feedback-name {
    width: 100%;
    padding: 16px 20px;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    color: white;
    font-size: 1rem;
    transition: all 0.3s;
}

#feedback-name:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(255, 255, 255, 0.12);
    box-shadow: 0 0 0 3px rgba(0, 68, 204, 0.2);
}

.feedback-button {
    display: block;
    width: 100%;
    padding: 18px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    margin-top: 20px;
}

.feedback-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0, 68, 204, 0.3);
}

.feedback-toast {
    position: fixed;
    bottom: 90px;
    left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: rgba(76, 175, 80, 0.95);
    color: white;
    padding: 15px 25px;
    border-radius: 25px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    z-index: 100000;
    transition: transform 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
}

.feedback-toast.show {
    transform: translateX(-50%) translateY(0);
}

/* SHARE SECTION COM IMAGENS */
.share-minimal {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 15px;
    padding: 30px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.share-title {
    text-align: center;
    color: var(--gray);
    margin-bottom: 30px;
    font-size: 1.1rem;
}

.share-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 15px;
    justify-items: center;
}

.share-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 15px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s;
    width: 100%;
    max-width: 200px;
}

.share-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateY(-3px);
    border-color: rgba(0, 68, 204, 0.2);
}

.share-icon-img {
    width: 40px;
    height: 40px;
    object-fit: contain;
    margin-bottom: 10px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    padding: 5px;
}

.share-name {
    color: var(--light);
    font-size: 0.9rem;
    font-weight: 500;
    margin-top: 5px;
}

.share-btn {
    display: block;
    text-decoration: none;
    width: 100%;
}

.copy-btn {
    background: none;
    border: none;
    cursor: pointer;
    width: 100%;
    padding: 0;
}

.copy-message {
    text-align: center;
    color: #4CAF50;
    font-size: 0.9rem;
    margin-top: 20px;
    height: 20px;
    opacity: 0;
    transition: opacity 0.3s;
}

.copy-message.show {
    opacity: 1;
}

/* FOOTER */
footer {
    background: transparent; /* TRANSPARENTE */
    padding: 60px 5% 30px;
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.footer-content {
    max-width: 800px;
    margin: 0 auto;
}

.footer-content h3 {
    color: var(--primary);
    margin-bottom: 20px;
    font-size: 1.8rem;
}

.footer-content p {
    color: var(--gray);
    margin-bottom: 20px;
    font-size: 1rem;
}

.copyright {
    color: var(--gray);
    font-size: 0.9rem;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* RESPONSIVIDADE */
@media (max-width: 768px) {
    .hero {
        padding: 80px 5% 40px;
    }
    
    .hero h1 {
        font-size: 2rem;
    }
    
    .hero-description {
        font-size: 1rem;
        padding: 0 10px;
    }
    
    .section {
        padding: 60px 5%;
    }
    
    .section h2 {
        font-size: 1.8rem;
    }
    
    .contact-info,
    .feedback-form,
    .privacy-item,
    .terms-item,
    .share-minimal {
        padding: 30px 20px;
    }
    
    .contact-email {
        font-size: 1.1rem;
        padding: 12px 20px;
    }
    
    .share-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    
    .share-item {
        max-width: none;
        padding: 10px;
    }
    
    .share-icon-img {
        width: 35px;
        height: 35px;
    }
}

@media (max-width: 480px) {
    .hero h1 {
        font-size: 1.8rem;
    }
    
    .section h2 {
        font-size: 1.6rem;
    }
    
    .star-input {
        font-size: 2rem;
    }
    
    .feedback-toast {
        bottom: 20px;
        left: 20px;
        right: 20px;
        transform: translateY(100px);
        text-align: center;
        justify-content: center;
    }
    
    .feedback-toast.show {
        transform: translateY(0);
    }
    
    .share-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .share-name {
        font-size: 0.8rem;
    }
}

        
        
        
    
        
        /* ========== CORREÇÕES ESPECÍFICAS DE LAYOUT ========== */
        /* Fix para headers das páginas */
        #page-inicio header,
        #page-geral header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(15, 15, 30, 0.95);
            backdrop-filter: blur(10px);
        }
        
        /* Fix para o header do SDS */
        #page-sds .app-header {



        /* ========== MENU HAMBURGER ========== */
        .menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 998;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .menu-overlay.active {
            display: block;
            opacity: 1;
        }
        
        .menu-content {
            position: fixed;
            top: 0;
            right: -280px;
            width: 280px;
            height: 100vh;
            background: rgba(15, 15, 30, 0.98);
            backdrop-filter: blur(10px);
            z-index: 999;
            overflow-y: auto;
            padding: 80px 20px 20px;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);
            transition: right 0.3s ease;
        }
        
        .menu-content.active {
            right: 0;
        }
        
        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: var(--light);
            font-size: 2rem;
            cursor: pointer;
            padding: 5px 10px;
            transition: all 0.3s;
            z-index: 1001;
        }
        
        .close-menu:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        
        .menu-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .menu-item {
            margin-bottom: 10px;
        }
        
        /* ========== LINKS DO MENU EM BRANCO ========== */
        .menu-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .menu-item {
            margin-bottom: 10px;
        }
        
        .menu-item,
        .menu-item a {
            display: block;
            color: #FFFFFF;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .menu-item:hover,
        .menu-item a:hover {
            background: rgba(0, 68, 204, 0.2);
            color: var(--primary);
            transform: translateX(5px);
        }
        
        .menu-item a:visited {
            color: #FFFFFF;
        }
        
        /* ========== FAQ ACCORDION ========== */
        .faq-item {
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
        }
        
        .faq-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .faq-question {
            padding: 20px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            user-select: none;
        }
        
        .faq-question:hover {
            color: var(--primary);
        }
        
        .faq-question::after {
            content: '+';
            font-size: 1.5rem;
            transition: transform 0.3s;
        }
        
        .faq-item.active .faq-question::after {
            transform: rotate(45deg);
        }
        
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.3s ease;
            padding: 0 20px;
        }
        
        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 20px 20px 20px;
        }
        
        /* ========== READ MORE ========== */
        .read-more-text,
        .more-content,
        #read-more-text {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, opacity 0.3s ease;
            opacity: 0;
        }
        
        .read-more-text.show,
        .more-content.show,
        #read-more-text.show {
            max-height: 2000px;
            opacity: 1;
            margin-top: 15px;
        }
        
        .read-more-btn,
        #read-more-btn {
            cursor: pointer;
            color: var(--primary);
            transition: all 0.3s;
            margin-top: 10px;
        }
        
    </style>
</head>
<body>
    
    <div class="app-container">
        <div class="pages-container" id="pages-container">
            
            <!-- ========== PÁGINA INÍCIO ========== -->
            <div class="page active" id="page-inicio">
<div class="stars" id="stars-inicio"></div>
<header>
    <div class="logo" id="nivora-logo">NIVORA 🌙</div>
    <button class="hamburger-menu" id="hamburgerBtn" aria-label="Abrir menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>
</header>

<!-- MENU LATERAL -->
<div class="sidebar-overlay" id="sidebarOverlay"></div>
<div class="sidebar-menu" id="sidebarMenu">
    <button class="sidebar-close" id="sidebarClose" aria-label="Fechar menu">✕</button>
    
    <div class="sidebar-content">
        <div class="sidebar-message">
            <p>Acreditamos que o descanso é o primeiro passo para quem deseja ir longe. Feito para cada pessoa que entende que, para conquistar o mundo lá fora, é preciso primeiro encontrar a paz aqui dentro. Não buscamos apenas o sono; buscamos a clareza para o seu próximo grande salto.</p>
            <p class="sidebar-signature">— NIVORA</p>
        </div>
        
        <div class="sidebar-divider"></div>
        
        <nav class="sidebar-nav">
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">🎯</span>
                <span class="sidebar-link-text">Plano personalizado</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">😴</span>
                <span class="sidebar-link-text">Animal do Sono</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">🎖️</span>
                <span class="sidebar-link-text">Método Militar</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">📊</span>
                <span class="sidebar-link-text">Quiz de Sono</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">🔬</span>
                <span class="sidebar-link-text">Distúrbios do Sono</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">💬</span>
                <span class="sidebar-link-text">Depoimentos</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">🌙</span>
                <span class="sidebar-link-text">Qualidade de sono</span>
            </div>
            <div class="sidebar-link sidebar-item-display">
                <span class="sidebar-link-icon">❓</span>
                <span class="sidebar-link-text">FAQ</span>
            </div>
        </nav>
    </div>
</div>


<section class="hero" id="home">
    <h1>PROBLEMAS PARA DORMIR ?</h1>
    <div class="hero-subtitle">MUDE ISSO EM 7 DIAS! 🔥</div>
    <div class="hero-description">
        <p>Descubra seu plano personalizado de sono com base na ciência e transforme suas noites de forma definitiva.</p>
    </div>
    
    <div class="stats-grid-exact">
        <div class="stat-card stat-card-left">
            <div class="stat-number">+5600</div>
            <div class="stat-line">Sonos Transformados</div>
            <div class="stat-emoji">✨</div>
        </div>
        
        <div class="stat-card stat-card-right">
            <div class="stat-number">7 Dias</div>
            <div class="stat-line">Para Resultados</div>
            <div class="stat-line">Reais 🗓️</div>
        </div>
        
        <div class="stat-card stat-card-bottom">
            <div class="stat-text" style="font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px;">
                ✅ Cientificamente Comprovado 🚀
            </div>
        </div>
    </div>
    
    <a href="#" class="cta-button" style="pointer-events: none; cursor: default;">Descubra Seu Plano de Sono 🚀</a>
</section>

<div class="divider-line"></div>

<section class="form-section" id="form">
    <div class="container">
        <h2>Seu Plano Personalizado de Sono 🎯</h2>
        <p class="section-subtitle" style="margin-bottom: 40px;">Responda 4 perguntas rápidas para receber recomendações específicas</p>
        
        <div class="form-container">
            <form id="main-form">
                <div class="form-group">
                    <label for="age">Sua Idade</label>
                    <input type="number" id="age" name="age" min="12" max="100" required placeholder="Ex: 25">
                </div>
                
                <div class="form-group">
                    <label>Principais problemas (selecione até 2)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="health" value="anxiety"> Ansiedade
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="health" value="insomnia"> Insônia
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="health" value="pressure"> Pressão
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="health" value="apnea"> Apneia obstrutiva do sono (AOS)
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="health" value="none"> Nenhum transtorno de sono
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="sleep-hours">Quantas horas você dorme?</label>
                    <select id="sleep-hours" name="sleep-hours" required>
                        <option value="">Selecione</option>
                        <option value="less-5">Menos de 5h</option>
                        <option value="5-6">5-6 horas</option>
                        <option value="6-7">6-7 horas</option>
                        <option value="7-8">7-8 horas</option>
                        <option value="more-8">Mais de 8h</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="sleep-quality">Qualidade do sono?</label>
                    <select id="sleep-quality" name="sleep-quality" required>
                        <option value="">Selecione</option>
                        <option value="excellent">Excelente</option>
                        <option value="good">Boa</option>
                        <option value="regular">Regular</option>
                        <option value="poor">Ruim</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Você é? (opcional)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="occupation" value="student"> Estudante
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="occupation" value="worker"> Trabalhador
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="occupation" value="athlete"> Atleta
                        </label>
                    </div>
                </div>
                
                <button type="submit" class="cta-button">Gerar Meu Plano 📋</button>
            </form>
        </div>
    </div>
</section>

<div class="divider-line"></div>

<section class="form-result" id="form-result" style="display: none;">
    <div class="container">
        <h2>Seu Plano Personalizado de Sono:</h2>
        
        <div class="plan-sections">
            <div class="plan-section">
                <h3>🌙 Rotina Noturna Recomendada</h3>
                <div class="routine-list" id="routine-container"></div>
            </div>
            
            <div class="plan-section">
                <h3>🏠 Ambiente do Quarto Ideal</h3>
                <div class="environment-tips" id="environment-container"></div>
            </div>
            
            <div class="plan-section">
                <h3>🥗 Recomendações de Nutrição</h3>
                <div class="nutrition-tips" id="nutrition-container"></div>
            </div>
        </div>
    </div>
</section>

<div class="divider-line"></div>

<section class="quiz-animal-section" id="quiz-animal">
    <div class="container">
        <div class="section-header">
            <h2>Descubra Seu Animal do Sono 😴</h2>
            <p class="section-subtitle">Responda 7 perguntas para descobrir qual animal representa seu padrão de sono</p>
        </div>
        
        <div class="quiz-container">
            <div class="quiz-step active" id="animal-step-1">
                <h3 class="quiz-question">1. Qual horário você se sente mais produtivo?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Manhã (6h-12h) 🌅</div>
                    <div class="quiz-option" data-value="penguin">Manhã cedo (4h-8h) 🌄</div>
                    <div class="quiz-option" data-value="owl">Tarde (12h-18h) ☀️</div>
                    <div class="quiz-option" data-value="wolf">Noite (18h-24h) 🌙</div>
                    <div class="quiz-option" data-value="cat">Vários períodos curtos 🔄</div>
                    <div class="quiz-option" data-value="rabbit">Madrugada (0h-6h) 🌌</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn next-btn" data-next="2">Próxima →</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 14%"></div>
                        </div>
                    </div>
                    <span>1 de 7</span>
                </div>
            </div>

            <div class="quiz-step" id="animal-step-2">
                <h3 class="quiz-question">2. Como você acorda naturalmente nos fins de semana?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Mesmo horário da semana ⏰</div>
                    <div class="quiz-option" data-value="rabbit">1-2 horas mais tarde 😴</div>
                    <div class="quiz-option" data-value="wolf">3-4 horas mais tarde 🛌</div>
                    <div class="quiz-option" data-value="owl">Horário completamente diferente 🔄</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn prev-btn" data-prev="1">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 28%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn next-btn" data-next="3">Próxima →</button>
                </div>
            </div>

            <div class="quiz-step" id="animal-step-3">
                <h3 class="quiz-question">3. Quantas vezes você acorda durante a noite?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Nunca, durmo a noite toda 😴</div>
                    <div class="quiz-option" data-value="penguin">Raramente, 1 vez no máximo 💤</div>
                    <div class="quiz-option" data-value="wolf">1-2 vezes rapidamente ⏰</div>
                    <div class="quiz-option" data-value="rabbit">3-4 vezes, mas volto a dormir 🔄</div>
                    <div class="quiz-option" data-value="cat">Acordo várias vezes facilmente 🌊</div>
                    <div class="quiz-option" data-value="owl">Muitas vezes, tenho sono leve 🌊</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn prev-btn" data-prev="2">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 42%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn next-btn" data-next="4">Próxima →</button>
                </div>
            </div>

            <div class="quiz-step" id="animal-step-4">
                <h3 class="quiz-question">4. Como é seu nível de energia durante o dia?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Constante do começo ao fim 📈</div>
                    <div class="quiz-option" data-value="wolf">Varia muito, com picos 📊</div>
                    <div class="quiz-option" data-value="owl">Baixa de manhã, alta à noite 🌙</div>
                    <div class="quiz-option" data-value="rabbit">Sempre moderada, sem extremos ➖</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn prev-btn" data-prev="3">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 56%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn next-btn" data-next="5">Próxima →</button>
                </div>
            </div>

            <div class="quiz-step" id="animal-step-5">
                <h3 class="quiz-question">5. Qual desses descreve melhor seu sono?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Profundo e reparador 💤</div>
                    <div class="quiz-option" data-value="penguin">Consistente e resiliente 🔋</div>
                    <div class="quiz-option" data-value="rabbit">Leve e tranquilo 🌊</div>
                    <div class="quiz-option" data-value="wolf">Intenso mas agitado ⚡</div>
                    <div class="quiz-option" data-value="cat">Fragmentado mas eficiente ⚡</div>
                    <div class="quiz-option" data-value="owl">Curto mas eficiente 🎯</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn prev-btn" data-prev="4">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 70%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn next-btn" data-next="6">Próxima →</button>
                </div>
            </div>

            <div class="quiz-step" id="animal-step-6">
                <h3 class="quiz-question">6. Como você lida com mudanças de rotina?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Prefiro rotina fixa 📅</div>
                    <div class="quiz-option" data-value="wolf">Me adapto facilmente 🔄</div>
                    <div class="quiz-option" data-value="owl">Gosto de variedade 🎭</div>
                    <div class="quiz-option" data-value="rabbit">Tenho dificuldade 😣</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn prev-btn" data-prev="5">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 84%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn next-btn" data-next="7">Próxima →</button>
                </div>
            </div>

            <div class="quiz-step" id="animal-step-7">
                <h3 class="quiz-question">7. Qual ambiente te faz dormir melhor?</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-value="bear">Silêncio total 🤫</div>
                    <div class="quiz-option" data-value="rabbit">Sons suaves naturais 🌊</div>
                    <div class="quiz-option" data-value="wolf">Ruído branco constante 📻</div>
                    <div class="quiz-option" data-value="owl">Pouca luz e temperatura baixa ❄️</div>
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-btn prev-btn" data-prev="6">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn result-btn">Ver Resultado! 🎉</button>
                </div>
            </div>

            <div class="animal-result" id="animal-result" style="display: none;">
                <div class="result-content">
                    <div class="animal-image-container" id="animal-image-container">
                        <!-- Imagem será inserida aqui -->
                    </div>
                    <h2 class="animal-title" id="animal-title">Seu animal é: Lobo</h2>
                    <p id="animal-description" class="animal-description">
                        Você tem um padrão de sono como um lobo! Sua energia vem em ondas e picos criativos. Seu sono pode ser afetado por momentos de alta inspiração.
                    </p>
                    
                    <div class="animal-traits">
                        <h4>Características do seu sono:</h4>
                        <ul id="animal-traits-list">
                            <li>Energia em picos criativos</li>
                            <li>Sono intenso mas variável</li>
                            <li>Grande capacidade de adaptação</li>
                            <li>Sonhos vívidos e memoráveis</li>
                        </ul>
                    </div>

                    <div class="action-buttons">
                        <button class="cta-button restart-btn">Fazer Quiz Novamente 🔄</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="divider-line"></div>

<!-- Seção Método Militar -->
<section class="military-technique-section" id="military-technique">
    <div class="container">
        <div class="section-header">
            <h2>Durma em Até 2 Minutos com Técnica Militar 🎖️</h2>
            <p class="section-subtitle">Método da Força Aérea dos EUA - 96% de eficácia comprovada</p>
        </div>
        
        <div class="technique-grid">
            <!-- CARD 1: Relaxamento Corporal DETALHADO -->
            <div class="technique-card">
                <div class="card-header">
                    <div class="technique-icon">⚡</div>
                    <h3 class="card-title-blue">Relaxe Todo o Corpo em 1 Minuto</h3>
                </div>
                <div class="technique-steps">
                    <div class="step">
                        <span class="step-time">0-20s:</span> 
                        <div class="step-details">
                            <strong>Rosto completo:</strong> Feche os olhos, respire fundo, relaxe todos os 43 músculos faciais. Deixe a língua relaxada, maxilar solto.
                        </div>
                    </div>
                    <div class="step">
                        <span class="step-time">20-40s:</span> 
                        <div class="step-details">
                            <strong>Ombros e braços:</strong> Deixe os ombros caírem completamente. Relaxe a parte de trás do pescoço. Sinta os braços pesados até as pontas dos dedos.
                        </div>
                    </div>
                    <div class="step">
                        <span class="step-time">40-60s:</span> 
                        <div class="step-details">
                            <strong>Tronco e pernas:</strong> Relaxe peito, costas, abdômen. Sinta as pernas pesadas, começando pelas coxas até os pés. Imagine calor relaxante subindo das solas.
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- CARD 2: Esvaziamento Mental com OPÇÕES -->
            <div class="technique-card">
                <div class="card-header">
                    <div class="technique-icon">🧠</div>
                    <h3 class="card-title-blue">Esvazie a Mente em 10 Segundos</h3>
                </div>
                
                <div class="visualization-options">
                    <div class="visualization-option">
                        <div class="vis-icon">🛶</div>
                        <div class="vis-text">
                            <strong>Canoa no lago:</strong> Imagine-se deitado em uma canoa em lago calmo, apenas céu azul acima
                        </div>
                    </div>
                    
                    <div class="visualization-option">
                        <div class="vis-icon">🌌</div>
                        <div class="vis-text">
                            <strong>Quarto escuro:</strong> Flutuando em um quarto totalmente escuro e silencioso
                        </div>
                    </div>
                    
                    <div class="visualization-option">
                        <div class="vis-icon">🌀</div>
                        <div class="vis-text">
                            <strong>Mantra simples:</strong> Repita mentalmente "não pense" por 10 segundos
                        </div>
                    </div>
                </div>
                
                <p class="technique-tip"><strong>🎯 Dica:</strong> Escolha UMA visualização e mantenha por 10 segundos sem mudar.</p>
            </div>
            
            <!-- CARD 3: Resultados Científicos - REDUZIDO E SIMPLES -->
            <div class="technique-card results-card">
                <div class="card-header">
                    <div class="technique-icon">📊</div>
                    <h3 class="card-title-blue">Resultados Científicos</h3>
                </div>
                
                <div class="simple-results">
                    <div class="simple-result-item">
                        <div class="simple-result-number">98%</div>
                        <div class="simple-result-text">
                            <span class="simple-result-label">Sucesso após 6 meses</span>
                            <span class="simple-result-desc">Base: Estudo com pilotos USAF</span>
                        </div>
                    </div>
                    
                    <div class="simple-result-item">
                        <div class="simple-result-number">120s</div>
                        <div class="simple-result-text">
                            <span class="simple-result-label">Tempo médio para dormir</span>
                            <span class="simple-result-desc">2 minutos exatos</span>
                        </div>
                    </div>
                    
                    <div class="simple-result-item">
                        <div class="simple-result-number">±0</div>
                        <div class="simple-result-text">
                            <span class="simple-result-label">Efeitos colaterais</span>
                            <span class="simple-result-desc">Técnica 100% natural</span>
                        </div>
                    </div>
                </div>
                
                <div class="simple-research-note">
                    <p>🕰️ <strong>Origem:</strong> Desenvolvido em 1941 para pilotos da Segunda Guerra Mundial</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- SEÇÃO DE DICAS PROFISSIONAIS - SIMPLIFICADA -->
    <div class="pro-tips-section">
        <div class="container">
            <div class="tips-header">
                <div class="tips-icon">💡</div>
                <h3 class="card-title-blue">Dicas para Maior Eficácia</h3>
            </div>
            
            <div class="tips-grid">
                <div class="pro-tip">
                    <div class="tip-number">1</div>
                    <div class="tip-content">
                        <strong>Consistência:</strong> Pratique TODAS as noites por 6 semanas consecutivas
                    </div>
                </div>
                
                <div class="pro-tip">
                    <div class="tip-number">2</div>
                    <div class="tip-content">
                        <strong>Respiração:</strong> Use técnica 4-7-8 (inspire 4s, segure 7s, expire 8s)
                    </div>
                </div>
                
                <div class="pro-tip">
                    <div class="tip-number">3</div>
                    <div class="tip-content">
                        <strong>Posição:</strong> De costas, braços ao lado do corpo, palmas para cima
                    </div>
                </div>
                
                <div class="pro-tip">
                    <div class="tip-number">4</div>
                    <div class="tip-content">
                        <strong>Ambiente:</strong> Escuro total, temperatura entre 18-20°C, silêncio
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- DICA FINAL - CONTAINER SIMPLES SEM COR -->
    <div class="simple-tip-container">
        <div class="simple-tip-box">
            <div class="simple-tip-icon">🎖️</div>
            <p class="simple-tip-text"><strong>Dica de Veterano:</strong> Os primeiros 3 dias são os mais difíceis. Persista e no 4º dia você já notará diferença.</p>
        </div>
    </div>
</section>

<div class="divider-line"></div>

<section class="sleep-quality-quiz-section" id="sleep-quality-quiz">
    <div class="container">
        <div class="section-header">
            <h2>📊 Avalie Sua Qualidade de Sono</h2>
            <p class="section-subtitle">Descubra como melhorar seu sono em 5 perguntas rápidas</p>
        </div>
        
        <div class="sleep-quiz-container">
            <div class="sleep-quiz-step active" id="sleep-step-1">
                <h3 class="sleep-quiz-question">1. Quantas horas antes de dormir você para de usar telas?</h3>
                <div class="sleep-quiz-options">
                    <div class="sleep-quiz-option" data-category="telas" data-value="tela_ruim" data-score="3">
                        Menos de 30 minutos 📱
                    </div>
                    <div class="sleep-quiz-option" data-category="telas" data-value="tela_regular" data-score="2">
                        30 minutos - 1 hora 📺
                    </div>
                    <div class="sleep-quiz-option" data-category="telas" data-value="tela_bom" data-score="1">
                        1-2 horas 🕰️
                    </div>
                    <div class="sleep-quiz-option" data-category="telas" data-value="tela_otimo" data-score="0">
                        Mais de 2 horas ✨
                    </div>
                </div>
                <div class="sleep-quiz-navigation">
                    <button class="quiz-btn sleep-next" data-next="2">Próxima →</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 20%"></div>
                        </div>
                    </div>
                    <span>1 de 5</span>
                </div>
            </div>

            <div class="sleep-quiz-step" id="sleep-step-2">
                <h3 class="sleep-quiz-question">2. Você consome cafeína após as 14h?</h3>
                <div class="sleep-quiz-options">
                    <div class="sleep-quiz-option" data-category="cafeina" data-value="cafeina_ruim" data-score="3">
                        Sim, sempre ☕
                    </div>
                    <div class="sleep-quiz-option" data-category="cafeina" data-value="cafeina_regular" data-score="2">
                        Às vezes, após as 16h 🕓
                    </div>
                    <div class="sleep-quiz-option" data-category="cafeina" data-value="cafeina_bom" data-score="1">
                        Raramente, apenas de manhã 🌅
                    </div>
                    <div class="sleep-quiz-option" data-category="cafeina" data-value="cafeina_otimo" data-score="0">
                        Nunca após o almoço 🚫
                    </div>
                </div>
                <div class="sleep-quiz-navigation">
                    <button class="quiz-btn sleep-prev" data-prev="1">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 40%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn sleep-next" data-next="3">Próxima →</button>
                </div>
            </div>

            <div class="sleep-quiz-step" id="sleep-step-3">
                <h3 class="sleep-quiz-question">3. Com que frequência você pratica exercícios?</h3>
                <div class="sleep-quiz-options">
                    <div class="sleep-quiz-option" data-category="exercicio" data-value="exercicio_ruim" data-score="3">
                        Menos de 1 vez/semana 🛋️
                    </div>
                    <div class="sleep-quiz-option" data-category="exercicio" data-value="exercicio_regular" data-score="2">
                        1-2 vezes/semana 🚶
                    </div>
                    <div class="sleep-quiz-option" data-category="exercicio" data-value="exercicio_bom" data-score="1">
                        3-4 vezes/semana 💪
                    </div>
                    <div class="sleep-quiz-option" data-category="exercicio" data-value="exercicio_otimo" data-score="0">
                        5+ vezes/semana 🏃
                    </div>
                </div>
                <div class="sleep-quiz-navigation">
                    <button class="quiz-btn sleep-prev" data-prev="2">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn sleep-next" data-next="4">Próxima →</button>
                </div>
            </div>

            <div class="sleep-quiz-step" id="sleep-step-4">
                <h3 class="sleep-quiz-question">4. Você tem horários consistentes para dormir?</h3>
                <div class="sleep-quiz-options">
                    <div class="sleep-quiz-option" data-category="rotina" data-value="rotina_ruim" data-score="3">
                        Nunca, totalmente irregular 🔄
                    </div>
                    <div class="sleep-quiz-option" data-category="rotina" data-value="rotina_regular" data-score="2">
                        Apenas dias de semana 📅
                    </div>
                    <div class="sleep-quiz-option" data-category="rotina" data-value="rotina_bom" data-score="1">
                        Semana sim, fim de semana não 🌙
                    </div>
                    <div class="sleep-quiz-option" data-category="rotina" data-value="rotina_otimo" data-score="0">
                        Sempre o mesmo horário ⏰
                    </div>
                </div>
                <div class="sleep-quiz-navigation">
                    <button class="quiz-btn sleep-prev" data-prev="3">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 80%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn sleep-next" data-next="5">Próxima →</button>
                </div>
            </div>

            <div class="sleep-quiz-step" id="sleep-step-5">
                <h3 class="sleep-quiz-question">5. Como avalia seu nível de estresse antes de dormir?</h3>
                <div class="sleep-quiz-options">
                    <div class="sleep-quiz-option" data-category="estresse" data-value="estresse_ruim" data-score="3">
                        Muito alto 😰
                    </div>
                    <div class="sleep-quiz-option" data-category="estresse" data-value="estresse_regular" data-score="2">
                        Moderado 📊
                    </div>
                    <div class="sleep-quiz-option" data-category="estresse" data-value="estresse_bom" data-score="1">
                        Baixo 😌
                    </div>
                    <div class="sleep-quiz-option" data-category="estresse" data-value="estresse_otimo" data-score="0">
                        Praticamente zero 🧘
                    </div>
                </div>
                <div class="sleep-quiz-navigation">
                    <button class="quiz-btn sleep-prev" data-prev="4">← Voltar</button>
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%"></div>
                        </div>
                    </div>
                    <button class="quiz-btn sleep-result">Ver Resultado! 🎉</button>
                </div>
            </div>

            <div class="sleep-quiz-result" id="sleep-quiz-result" style="display: none;">
                <div class="sleep-result-content">
                    <h3 class="sleep-quality-text" id="sleep-quality-text">Sua Qualidade de Sono</h3>
                    
                    <div class="sleep-score-container">
                        <div class="sleep-score-circle" id="sleep-score-circle">
                            <div class="sleep-score-value" id="sleep-score-value">0%</div>
                        </div>
                        <div class="sleep-score-label" id="sleep-score-label">Pontuação: 0%</div>
                    </div>
                    
                    <div class="category-analysis">
                        <h4>📈 Análise por Categoria</h4>
                        <div class="categories-grid" id="categories-grid">
                            <!-- Preenchido dinamicamente -->
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="cta-button sleep-restart">Fazer Quiz Novamente 🔄</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="divider-line"></div>

<!-- ========== 4 DISTÚRBIOS DO SONO · CARD STACK HORIZONTAL ========== -->
<!-- COM INDICADORES DE ROLAGEM · ZERO BACKDROP · ZERO FUNDO -->

<section class="disorders-scroll" id="disturbios-scroll">
    <div class="disorders-scroll-container">

        <!-- CABEÇALHO FIXO -->
        <div class="disorders-scroll-header">
            <span class="disorders-scroll-selo">🧬 NEUROCIÊNCIA DO SONO</span>
            <h2 class="disorders-scroll-title">4 distúrbios comuns de sono</h2>
            <p class="disorders-scroll-subtitle">e como evitar</p>
        </div>

        <!-- ÁREA DE ROLAGEM COM INDICADORES -->
        <div class="scroll-hint-container">
            
            <!-- SETA ESQUERDA (APARECE SÓ SE NÃO ESTIVER NO INÍCIO) -->
            <div class="scroll-arrow scroll-arrow-left" id="scrollArrowLeft">←</div>
            
            <!-- TRILHO DE ROLAGEM -->
            <div class="disorders-scroll-track" id="scrollTrack">
                <div class="disorders-scroll-wrapper" id="scrollWrapper">
                    
                    <!-- 1. INSÔNIA -->
                    <div class="disorders-scroll-card">
                        <div class="scroll-card-emoji">😵</div>
                        <h3 class="scroll-card-title">Insônia</h3>
                        
                        <div class="scroll-card-tags">
                            <span class="scroll-tag">📊 35% adultos</span>
                            <span class="scroll-tag">🧒 20% adolescentes</span>
                            <span class="scroll-tag">👵 50% idosos</span>
                        </div>

                        <div class="scroll-card-desc">
                            <span class="scroll-highlight">Dificuldade crônica para iniciar ou manter o sono.</span> O cérebro permanece em hiperalerta — como se estivesse "ligado" 24h. Não é apenas "não dormir", é hiperativação cortical.
                        </div>

                        <div class="scroll-card-solucao">
                            <span class="solucao-titulo">🎯 ESTRATÉGIA NÍVORA</span>
                            <ul class="solucao-lista">
                                <li><span class="solucao-num">1</span> <span><strong>Restrição de sono:</strong> 6h na cama no início. Aumenta pressão homeostática.</span></li>
                                <li><span class="solucao-num">2</span> <span><strong>Controle de estímulos:</strong> cama só para dormir. 20min = levante.</span></li>
                                <li><span class="solucao-num">3</span> <span><strong>Intenção paradoxal:</strong> "vou ficar acordado". Reduz ansiedade de desempenho.</span></li>
                            </ul>
                            <div class="solucao-evidencias">
                                <span>🧪 TCC-I: 80% eficácia em 6-8 semanas</span>
                                <span class="evidencia-scroll-tag">Sem remédios</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. APNEIA OBSTRUTIVA -->
                    <div class="disorders-scroll-card">
                        <div class="scroll-card-emoji">🫁</div>
                        <h3 class="scroll-card-title">Apneia do sono</h3>
                        
                        <div class="scroll-card-tags">
                            <span class="scroll-tag">🌍 936 milhões</span>
                            <span class="scroll-tag">⚠️ 80% não sabem</span>
                            <span class="scroll-tag">📈 25% homens >40a</span>
                        </div>

                        <div class="scroll-card-desc">
                            <span class="scroll-highlight">Colapso repetido da faringe durante o sono.</span> O cérebro "acorda" dezenas de vezes por hora — você não percebe. Queda de oxigênio + pico de cortisol.
                        </div>

                        <div class="scroll-card-solucao">
                            <span class="solucao-titulo" style="border-left-color:#0044CC; color:#0044CC;">🩺 CONDUTA CLÍNICA</span>
                            <ul class="solucao-lista">
                                <li><span class="solucao-num" style="background:rgba(0,68,204,0.1); color:#0044CC;">1</span> <span><strong>CPAP é padrão ouro:</strong> uso >4h/noite reduz risco cardiovascular em 40%.</span></li>
                                <li><span class="solucao-num" style="background:rgba(0,68,204,0.1); color:#0044CC;">2</span> <span><strong>Posição lateral:</strong> dormir de lado reduz eventos em até 60%.</span></li>
                                <li><span class="solucao-num" style="background:rgba(0,68,204,0.1); color:#0044CC;">3</span> <span><strong>Perda de peso:</strong> -10% peso = -50% no índice apneia-hipopneia.</span></li>
                            </ul>
                            <div class="solucao-evidencias" style="border-left-color:#0044CC;">
                                <span>📋 Acompanhamento: otorrino ou pneumologista</span>
                                <span class="evidencia-scroll-tag" style="border-color:#0044CC; color:#0044CC;">Polissonografia</span>
                            </div>
                        </div>
                    </div>

                    <!-- 3. PARALISIA DO SONO -->
                    <div class="disorders-scroll-card">
                        <div class="scroll-card-emoji">😨</div>
                        <h3 class="scroll-card-title">Paralisia do sono</h3>
                        
                        <div class="scroll-card-tags">
                            <span class="scroll-tag">👥 30% já tiveram</span>
                            <span class="scroll-tag">🧒 35% adolescentes</span>
                            <span class="scroll-tag">🌙 dissociação REM</span>
                        </div>

                        <div class="scroll-card-desc">
                            <span class="scroll-highlight">Mente consciente, corpo paralisado.</span> Atonia do REM persiste após o despertar. Alucinações (vultos, pressão) são normais e inofensivas.
                        </div>

                        <div class="scroll-card-solucao">
                            <span class="solucao-titulo">🎯 ESTRATÉGIA NÍVORA</span>
                            <ul class="solucao-lista">
                                <li><span class="solucao-num">1</span> <span><strong>Mova o dedo mínimo:</strong> quebra a atonia instantaneamente.</span></li>
                                <li><span class="solucao-num">2</span> <span><strong>Evite dormir de barriga para cima:</strong> posição supina é gatilho #1.</span></li>
                                <li><span class="solucao-num">3</span> <span><strong>Regule seu sono:</strong> privação e horários irregulares aumentam.</span></li>
                            </ul>
                            <div class="solucao-evidencias">
                                <span>🧪 100% inofensivo — saber o que é já reduz o medo</span>
                                <span class="evidencia-scroll-tag">Controle o medo</span>
                            </div>
                        </div>
                    </div>

                    <!-- 4. PESADELOS RECORRENTES -->
                    <div class="disorders-scroll-card">
                        <div class="scroll-card-emoji">🌑</div>
                        <h3 class="scroll-card-title">Pesadelos recorrentes</h3>
                        
                        <div class="scroll-card-tags">
                            <span class="scroll-tag">📉 4% adultos</span>
                            <span class="scroll-tag">🧒 25% crianças</span>
                            <span class="scroll-tag">🧠 ativação da amígdala</span>
                        </div>

                        <div class="scroll-card-desc">
                            <span class="scroll-highlight">Sonhos extremamente disfóricos durante o REM tardio.</span> Amígdala hiperativada. Acorda a pessoa e dificulta o retorno ao sono.
                        </div>

                        <div class="scroll-card-solucao">
                            <span class="solucao-titulo">🎯 ESTRATÉGIA NÍVORA</span>
                            <ul class="solucao-lista">
                                <li><span class="solucao-num">1</span> <span><strong>Reescreva o sonho:</strong> pratique 10min/dia o novo final. Recondiciona o cérebro.</span></li>
                                <li><span class="solucao-num">2</span> <span><strong>Zero álcool à noite:</strong> fragmenta REM e intensifica emoção.</span></li>
                                <li><span class="solucao-num">3</span> <span><strong>Prazosina (sob prescrição):</strong> bloqueador alfa-1 para casos refratários.</span></li>
                            </ul>
                            <div class="solucao-evidencias">
                                <span>🧪 Terapia de ensaio de imagem: 70% de melhora</span>
                                <span class="evidencia-scroll-tag">Reescreva</span>
                            </div>
                        </div>
                    </div>

                    <!-- ESPAÇADOR FINAL -->
                    <div class="scroll-spacer"></div>
                </div>
            </div>
            
            <!-- SETA DIREITA (INDICADOR PRINCIPAL) -->
            <div class="scroll-arrow scroll-arrow-right" id="scrollArrowRight">→</div>
        </div>
        
        <!-- INDICADOR DE PONTOS (MOBILE) -->
        <div class="scroll-dots" id="scrollDots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
        
        <!-- TEXTO DE DICA SUTIL -->
        <div class="scroll-hint-text">
            <span>← arraste para ver mais →</span>
        </div>

        <!-- RODAPÉ CIENTÍFICO -->
        <div class="disorders-scroll-footer">
            <div class="scroll-sources">
                <span>📘 FONTES: AASM · Lancet · Sleep Medicine Reviews · JCSM 2023-25</span>
                <span>⚕️ Consulte um especialista em medicina do sono</span>
            </div>
            <p class="scroll-disclaimer">Conteúdo educacional baseado em evidências. Não substitui avaliação médica.</p>
        </div>

    </div>
</section>

<div class="divider-line"></div>

<div class="divider-line"></div>

<section class="testimonials" id="testimonials">
    <div class="container">
        <h2 class="section-header" style="color: var(--primary); margin-bottom: 40px;">Quem Usou Aprova ⭐⭐⭐⭐⭐</h2>
        <div class="testimonials-container">
            <div class="testimonial-card">
                <p class="testimonial-text">Transformou minhas noites! Finalmente durmo bem e acordo com energia. Recomendo muito!</p>
                <div class="testimonial-author">
                    <div class="author-avatar">NS</div>
                    <div class="author-info">
                        <h4>Nicole Silva</h4>
                        <p>Usuária há 3 meses</p>
                    </div>
                </div>
                <div class="stars-rating">★★★★★</div>
            </div>
            <div class="testimonial-card">
                <p class="testimonial-text">Incrível! Minha insônia desapareceu completamente em uma semana. Vale cada segundo!</p>
                <div class="testimonial-author">
                    <div class="author-avatar">VD</div>
                    <div class="author-info">
                        <h4>Victor Duarte</h4>
                        <p>Usuário há 2 meses</p>
                    </div>
                </div>
                <div class="stars-rating">★★★★★</div>
            </div>
            <div class="testimonial-card">
                <p class="testimonial-text">O melhor investimento na minha saúde. Sono de qualidade mudou minha vida profissional e pessoal.</p>
                <div class="testimonial-author">
                    <div class="author-avatar">RG</div>
                    <div class="author-info">
                        <h4>Richard Gabriel</h4>
                        <p>Usuário há 5 meses</p>
                    </div>
                </div>
                <div class="stars-rating">★★★★★</div>
            </div>
        </div>
    </div>
</section>

<div class="divider-line"></div>

<section class="faq-section" id="faq">
    <div class="container">
        <div class="section-header">
            <h2>FAQ - Perguntas Frequentes ❓</h2>
            <p class="section-subtitle">Tire suas dúvidas sobre sono e saúde noturna</p>
        </div>
        
        <div class="faq-container">
            <div class="faq-item">
                <div class="faq-question">
                    <h3>É verdade que adultos têm que dormir 8 horas por noite?</h3>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <p>Adultos geralmente precisam de 7-9 horas de sono por noite. A necessidade varia entre indivíduos. Alguns funcionam bem com 7 horas, outros precisam de 9. O mais importante é a qualidade e regularidade do sono.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <h3>Dormir mais nos fins de semana compensa o sono perdido da semana?</h3>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <p>Parcialmente, mas não completamente. Dormir mais no fim de semana pode ajudar a recuperar parte do déficit, mas não repõe todos os benefícios perdidos. Manter horários consistentes é mais saudável para o relógio biológico.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <h3>Usar celular antes de dormir realmente atrapalha o sono?</h3>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <p>Sim. A luz azul das telas suprime a produção de melatonina (hormônio do sono), atrasando o início do sono e reduzindo sua qualidade. Recomenda-se evitar telas 1-2 horas antes de dormir ou usar filtros de luz azul.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <h3>Dormir pouco faz mal mesmo ou é exagero?</h3>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <p>Faz mal. Privação crônica de sono aumenta risco de obesidade, diabetes, doenças cardíacas, depressão e compromete o sistema imunológico. Também reduz capacidade cognitiva e aumenta acidentes.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <h3>Cochilos durante o dia atrapalham o sono da noite?</h3>
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <p>Depende. Cochilos curtos (20-30 minutos) no início da tarde geralmente não atrapalham. Cochilos longos ou tardios podem interferir no sono noturno. Se tiver insônia, evite cochilar durante o dia.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<footer>
    <p class="warning">⚠️ IMPORTANTE: Em casos graves de distúrbios do sono, procure ajuda profissional.</p>
    <p class="disclaimer">
        Este site oferece informações educacionais baseadas em ciência, mas não substitui diagnóstico ou tratamento médico. 
        Se você sofre de insônia crônica, apneia do sono, narcolepsia ou outros distúrbios graves, consulte um médico especialista.
    </p>
    <p>
        &copy; 2025 Nivora - Durma Melhor com Ciência. Todos os direitos reservados.
    </p>
    <p style="color: var(--gray); font-size: 0.8rem; margin-top: 10px;">
        Informações baseadas em pesquisas científicas - Consulte sempre um profissional de saúde
    </p>
</footer>

<script>
    // Sistema de resultados personalizados
    const sleepPlans = {
        ageBased: {
            young: {
                routine: [
                    "Banho morno 90 min antes de dormir",
                    "Desligar telas 2 horas antes",
                    "Exercícios moderados à tarde",
                    "Leitura leve por 30 min"
                ],
                environment: [
                    "Temperatura: 18-20°C",
                    "Umidade: 40-50%",
                    "Travesseiro baixo e respirável"
                ],
                nutrition: [
                    "Jantar 2-3 horas antes",
                    "Evitar cafeína após 15h",
                    "Chá de camomila antes de dormir"
                ]
            },
            adult: {
                routine: [
                    "Banho morno 60 min antes de dormir",
                    "Desligar telas 1 hora antes",
                    "Alongamentos leves",
                    "Respiração 4-7-8 por 5 min"
                ],
                environment: [
                    "Temperatura: 17-19°C",
                    "Umidade: 45-55%",
                    "Travesseiro com suporte cervical"
                ],
                nutrition: [
                    "Jantar 3 horas antes",
                    "Evitar álcool à noite",
                    "Chá de valeriana"
                ]
            },
            senior: {
                routine: [
                    "Banho morno 45 min antes de dormir",
                    "Desligar telas 30 min antes",
                    "Yoga suave por 10 min",
                    "Leitura recreativa"
                ],
                environment: [
                    "Temperatura: 19-21°C",
                    "Umidade: 50-60%",
                    "Travesseiro hipoalergênico"
                ],
                nutrition: [
                    "Jantar 2-4 horas antes",
                    "Evitar líquidos 2h antes",
                    "Chá de erva-doce"
                ]
            }
        }
    };

    document.getElementById('main-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const age = parseInt(formData.get('age'));
        const healthIssues = formData.getAll('health');
        const sleepHours = formData.get('sleep-hours');
        const sleepQuality = formData.get('sleep-quality');
        const occupations = formData.getAll('occupation');
        
        generatePersonalizedPlan({
            age,
            healthIssues,
            sleepHours,
            sleepQuality,
            occupations
        });
        
        document.getElementById('form').style.display = 'none';
        document.getElementById('form-result').style.display = 'block';
        document.getElementById('form-result').scrollIntoView({ behavior: 'smooth' });
    });

    function generatePersonalizedPlan(data) {
        let ageGroup = 'adult';
        if (data.age < 25) ageGroup = 'young';
        else if (data.age > 60) ageGroup = 'senior';
        
        const routineContainer = document.getElementById('routine-container');
        routineContainer.innerHTML = '';
        sleepPlans.ageBased[ageGroup].routine.forEach(item => {
            const div = document.createElement('div');
            div.className = 'routine-item';
            div.innerHTML = `
                <div class="routine-checkbox"></div>
                <span>${item}</span>
            `;
            routineContainer.appendChild(div);
        });
        
        const environmentContainer = document.getElementById('environment-container');
        environmentContainer.innerHTML = '';
        sleepPlans.ageBased[ageGroup].environment.forEach(tip => {
            const div = document.createElement('div');
            div.className = 'tip-item';
            div.innerHTML = `<strong>${tip.split(':')[0]}:</strong> ${tip.split(':')[1] || tip}`;
            environmentContainer.appendChild(div);
        });
        
        const nutritionContainer = document.getElementById('nutrition-container');
        nutritionContainer.innerHTML = '';
        sleepPlans.ageBased[ageGroup].nutrition.forEach(tip => {
            const div = document.createElement('div');
            div.className = 'tip-item';
            div.innerHTML = `<strong>${tip.split(':')[0]}:</strong> ${tip.split(':')[1] || tip}`;
            nutritionContainer.appendChild(div);
        });
    }

    // Quiz Animal
    let animalAnswers = {};
    let currentAnimalStep = 1;

    const animalImages = {
        wolf: 'https://i.postimg.cc/6qN3QHK9/lv-0-20260202203017.jpg',
        bear: 'https://i.postimg.cc/4x8m1b6q/lv-0-20260202202932.jpg',
        owl: 'https://i.postimg.cc/LsY63d6D/lv-0-20260203003056.jpg',
        rabbit: 'https://i.postimg.cc/tJyqbYd2/lv-0-20260203003212.jpg',
        penguin: 'https://i.postimg.cc/R0H4ncXN/lv-0-20260203003422.jpg',
        cat: 'https://i.postimg.cc/gkmjFBNY/lv-0-20260202203548.jpg'
    };

    function navigateAnimalStep(direction, targetStep) {
        if (direction === 'next') {
            const currentOptions = document.querySelectorAll(`#animal-step-${currentAnimalStep} .quiz-option.selected`);
            if (currentOptions.length === 0) {
                alert('Por favor, selecione uma resposta antes de continuar.');
                return;
            }
            
            animalAnswers[`question${currentAnimalStep}`] = currentOptions[0].getAttribute('data-value');
        }
        
        document.getElementById(`animal-step-${currentAnimalStep}`).classList.remove('active');
        document.getElementById(`animal-step-${targetStep}`).classList.add('active');
        currentAnimalStep = targetStep;
    }

    document.addEventListener('DOMContentLoaded', function() {
        const options = document.querySelectorAll('.quiz-option');
        options.forEach(option => {
            option.addEventListener('click', function() {
                const siblings = this.parentElement.querySelectorAll('.quiz-option');
                siblings.forEach(sib => sib.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        document.querySelectorAll('.next-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const nextStep = parseInt(this.getAttribute('data-next'));
                navigateAnimalStep('next', nextStep);
            });
        });
        
        document.querySelectorAll('.prev-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const prevStep = parseInt(this.getAttribute('data-prev'));
                navigateAnimalStep('prev', prevStep);
            });
        });
        
        document.querySelector('.result-btn').addEventListener('click', function() {
            calculateAnimalResult();
        });
        
        document.querySelector('.restart-btn').addEventListener('click', function() {
            restartAnimalQuiz();
        });
    });

    function calculateAnimalResult() {
        const lastOptions = document.querySelectorAll(`#animal-step-${currentAnimalStep} .quiz-option.selected`);
        if (lastOptions.length === 0) {
            alert('Por favor, selecione uma resposta para a última pergunta.');
            return;
        }
        
        animalAnswers[`question${currentAnimalStep}`] = lastOptions[0].getAttribute('data-value');
        
        const animalCount = { bear: 0, owl: 0, wolf: 0, rabbit: 0, penguin: 0, cat: 0 };
        
        Object.values(animalAnswers).forEach(animal => {
            if (animalCount[animal] !== undefined) {
                animalCount[animal]++;
            }
        });
        
        const animalEntries = Object.entries(animalCount);
        animalEntries.sort((a, b) => b[1] - a[1]);
        let winningAnimal = animalEntries[0][0];
        
        document.getElementById(`animal-step-${currentAnimalStep}`).classList.remove('active');
        document.getElementById('animal-result').style.display = 'block';
        displayAnimalResult(winningAnimal);
    }

    function displayAnimalResult(animal) {
        const results = {
            wolf: {
                title: 'Lobo',
                description: 'Você tem um padrão de sono como um lobo! Sua energia vem em ondas e picos criativos. Seu sono pode ser afetado por momentos de alta inspiração.',
                traits: [
                    'Energia em picos criativos',
                    'Sono intenso mas variável',
                    'Grande capacidade de adaptação',
                    'Sonhos vívidos e memoráveis'
                ]
            },
            bear: {
                title: 'Urso',
                description: 'Você tem um padrão de sono consistente e previsível como um urso! Seu corpo segue naturalmente o ciclo solar, com energia constante ao longo do dia.',
                traits: [
                    'Rotina de sono consistente',
                    'Energia equilibrada durante o dia',
                    'Sono profundo e reparador',
                    'Adaptação fácil ao ciclo solar'
                ]
            },
            owl: {
                title: 'Coruja',
                description: 'Você é uma verdadeira coruja! Seu relógio biológico funciona melhor à noite, com picos de energia quando a maioria das pessoas já está cansada.',
                traits: [
                    'Energia máxima no período noturno',
                    'Adaptável a diferentes rotinas',
                    'Sono eficiente em períodos curtos',
                    'Criatividade em horários alternativos'
                ]
            },
            rabbit: {
                title: 'Coelho',
                description: 'Como um coelho, você tem um sono alerta e adaptável! Seu sono é leve mas eficiente, permitindo que você esteja sempre pronto para agir.',
                traits: [
                    'Sono leve e alerta',
                    'Acorda facilmente e rapidamente',
                    'Adaptável a rotinas intensas',
                    'Recuperação rápida do cansaço'
                ]
            },
            penguin: {
                title: 'Pinguim',
                description: 'Como um pinguim, você tem um sono organizado e resiliente! Você se adapta bem a diferentes temperaturas e ambientes, mantendo a qualidade do sono mesmo em condições adversas.',
                traits: [
                    'Sono resistente a mudanças ambientais',
                    'Adaptação rápida a novos fusos horários',
                    'Rotina flexível mas eficiente',
                    'Capacidade de sono profundo quando necessário'
                ]
            },
            cat: {
                title: 'Gato',
                description: 'Você tem o padrão de sono de um gato! Seu sono é fragmentado mas altamente eficiente. Você tem a habilidade de dormir em pequenos períodos e acordar completamente alerta.',
                traits: [
                    'Múltiplos períodos de sono curtos',
                    'Acordar instantaneamente alerta',
                    'Flexibilidade total de horários',
                    'Alta eficiência em pouco tempo de sono'
                ]
            }
        };
        
        const result = results[animal];
        
        const imageContainer = document.getElementById('animal-image-container');
        imageContainer.innerHTML = `<img src="${animalImages[animal]}" alt="${result.title}" style="width: 100%; height: 100%; object-fit: cover;">`;
        
        document.getElementById('animal-title').textContent = `Seu animal é: ${result.title}`;
        document.getElementById('animal-description').textContent = result.description;
        
        const traitsList = document.getElementById('animal-traits-list');
        traitsList.innerHTML = '';
        result.traits.forEach(trait => {
            const li = document.createElement('li');
            li.textContent = trait;
            traitsList.appendChild(li);
        });
    }

    function restartAnimalQuiz() {
        animalAnswers = {};
        currentAnimalStep = 1;
        document.getElementById('animal-result').style.display = 'none';
        document.getElementById('animal-step-1').classList.add('active');
        const selectedOptions = document.querySelectorAll('.quiz-option.selected');
        selectedOptions.forEach(option => option.classList.remove('selected'));
    }

    // Quiz de qualidade de sono
    let sleepAnswers = {};
    let currentSleepStep = 1;
    let selectedOptionsData = {};

    function initSleepQualityQuiz() {
        const options = document.querySelectorAll('.sleep-quiz-option');
        options.forEach(option => {
            option.addEventListener('click', function() {
                const currentStepId = `sleep-step-${currentSleepStep}`;
                const currentStep = document.getElementById(currentStepId);
                const siblings = currentStep.querySelectorAll('.sleep-quiz-option');
                siblings.forEach(sib => sib.classList.remove('selected'));
                
                this.classList.add('selected');
                
                selectedOptionsData[currentSleepStep] = {
                    element: this,
                    value: this.getAttribute('data-value'),
                    category: this.getAttribute('data-category'),
                    score: parseInt(this.getAttribute('data-score')),
                    text: this.textContent.trim()
                };
            });
        });
    }

    function nextSleepStep(step) {
        if (!selectedOptionsData[currentSleepStep]) {
            alert('Por favor, selecione uma resposta antes de continuar.');
            return;
        }
        
        const selectedData = selectedOptionsData[currentSleepStep];
        sleepAnswers[selectedData.category] = selectedData.value;
        
        document.getElementById(`sleep-step-${currentSleepStep}`).classList.remove('active');
        document.getElementById(`sleep-step-${step}`).classList.add('active');
        currentSleepStep = step;
        
        updateSleepProgressBar();
    }

    function prevSleepStep(step) {
        document.getElementById(`sleep-step-${currentSleepStep}`).classList.remove('active');
        document.getElementById(`sleep-step-${step}`).classList.add('active');
        currentSleepStep = step;
        
        updateSleepProgressBar();
    }

    function updateSleepProgressBar() {
        const progress = (currentSleepStep / 5) * 100;
        const progressFill = document.querySelector(`#sleep-step-${currentSleepStep} .progress-fill`);
        if (progressFill) {
            progressFill.style.width = `${progress}%`;
        }
    }

    function calculatePersonalizedSleepQuality() {
        if (!selectedOptionsData[currentSleepStep]) {
            alert('Por favor, selecione uma resposta para a última pergunta.');
            return;
        }
        
        const selectedData = selectedOptionsData[currentSleepStep];
        sleepAnswers[selectedData.category] = selectedData.value;
        
        document.getElementById(`sleep-step-${currentSleepStep}`).classList.remove('active');
        document.getElementById('sleep-quiz-result').style.display = 'block';
        
        const totalScore = analyzeSpecificAnswers();
        const finalPercentage = Math.round((totalScore / 15) * 100);
        
        animateSleepScore(finalPercentage);
    }

    function analyzeSpecificAnswers() {
        let totalScore = 0;
        const categoriesGrid = document.getElementById('categories-grid');
        categoriesGrid.innerHTML = '';
        
        for (const [category, value] of Object.entries(sleepAnswers)) {
            const answerData = selectedOptionsData[Object.keys(sleepAnswers).indexOf(category) + 1];
            const score = answerData.score;
            
            let status, statusClass;
            if (score === 0) {
                status = "Excelente";
                statusClass = "good";
            } else if (score === 1) {
                status = "Bom";
                statusClass = "good";
            } else if (score === 2) {
                status = "Regular";
                statusClass = "regular";
            } else {
                status = "Precisa Melhorar";
                statusClass = "bad";
            }
            
            totalScore += score;
            
            const categoryElement = document.createElement('div');
            categoryElement.className = `category-item ${statusClass}`;
            categoryElement.innerHTML = `
                <div class="category-name">${getCategoryEmoji(category)} ${getCategoryName(category)}</div>
                <div class="category-status">${status}</div>
            `;
            categoriesGrid.appendChild(categoryElement);
        }
        
        return totalScore;
    }

    function getCategoryName(category) {
        const names = {
            'telas': 'Uso de Telas',
            'cafeina': 'Consumo de Cafeína',
            'exercicio': 'Atividade Física',
            'rotina': 'Rotina de Sono',
            'estresse': 'Nível de Estresse'
        };
        return names[category] || category;
    }

    function getCategoryEmoji(category) {
        const emojis = {
            'telas': '📱',
            'cafeina': '☕',
            'exercicio': '💪',
            'rotina': '⏰',
            'estresse': '😥'
        };
        return emojis[category] || '📊';
    }

    function animateSleepScore(percentage) {
        const scoreCircle = document.getElementById('sleep-score-circle');
        const scoreValue = document.getElementById('sleep-score-value');
        const scoreLabel = document.getElementById('sleep-score-label');
        
        if (!scoreCircle || !scoreValue) return;
        
        const circleColor = 'var(--primary)';
        
        let currentPercent = 0;
        const animationDuration = 1500;
        const steps = 50;
        const increment = percentage / steps;
        const interval = animationDuration / steps;
        
        const timer = setInterval(() => {
            currentPercent += increment;
            if (currentPercent >= percentage) {
                currentPercent = percentage;
                clearInterval(timer);
            }
            
            scoreCircle.style.background = `conic-gradient(
                ${circleColor} 0%,
                ${circleColor} ${currentPercent}%,
                rgba(255, 255, 255, 0.1) ${currentPercent}%,
                rgba(255, 255, 255, 0.1) 100%
            )`;
            
            scoreValue.textContent = `${Math.round(currentPercent)}%`;
            scoreValue.style.color = circleColor;
        }, interval);
        
        let labelText;
        if (percentage <= 20) labelText = "Excelente - Continue assim!";
        else if (percentage <= 40) labelText = "Bom - Pequenos ajustes";
        else if (percentage <= 60) labelText = "Regular - Melhorias necessárias";
        else if (percentage <= 80) labelText = "Atenção - Mudanças importantes";
        else labelText = "Urgente - Ação imediata";
        
        scoreLabel.textContent = labelText;
        scoreLabel.style.color = circleColor;
        
        let qualityText;
        if (percentage <= 20) qualityText = "Excelente! Seu sono é de alta qualidade";
        else if (percentage <= 40) qualityText = "Bom! Alguns ajustes podem melhorar";
        else if (percentage <= 60) qualityText = "Regular! Há espaço para melhorias";
        else if (percentage <= 80) qualityText = "Atenção! Seu sono precisa de cuidados";
        else qualityText = "Urgente! Mudanças são necessárias";
        
        document.getElementById('sleep-quality-text').textContent = qualityText;
    }

    function restartSleepQuiz() {
        sleepAnswers = {};
        currentSleepStep = 1;
        selectedOptionsData = {};
        
        document.getElementById('sleep-quiz-result').style.display = 'none';
        document.querySelectorAll('.sleep-quiz-step').forEach(step => {
            step.classList.remove('active');
        });
        document.getElementById('sleep-step-1').classList.add('active');
        
        document.querySelectorAll('.sleep-quiz-option.selected').forEach(option => {
            option.classList.remove('selected');
        });
        
        updateSleepProgressBar();
    }

    // Inicializar quizzes
    document.addEventListener('DOMContentLoaded', function() {
        initSleepQualityQuiz();
        
        // Event listeners para quiz de sono
        document.querySelectorAll('.sleep-next').forEach(btn => {
            btn.addEventListener('click', function() {
                const nextStep = parseInt(this.getAttribute('data-next'));
                nextSleepStep(nextStep);
            });
        });
        
        document.querySelectorAll('.sleep-prev').forEach(btn => {
            btn.addEventListener('click', function() {
                const prevStep = parseInt(this.getAttribute('data-prev'));
                prevSleepStep(prevStep);
            });
        });
        
        document.querySelector('.sleep-result').addEventListener('click', function() {
            calculatePersonalizedSleepQuality();
        });
        
        document.querySelector('.sleep-restart').addEventListener('click', function() {
            restartSleepQuiz();
        });
    });
</script>            </div>
            
            <!-- ========== PÁGINA SDS ========== -->
            <div class="page" id="page-sds">
<!-- Loading Screen -->
<div class="loading" id="loading-screen">
    <div class="loading-spinner"></div>
</div>

<!-- Stars Background -->
<div class="stars" id="stars-sds"></div>

<!-- ========== HEADER (Menu DENTRO) ========== -->
<header class="app-header">
    <div class="logo">sistema do sono 🌙</div>
</header>

<!-- Main Content -->
<main class="app-container">
    <!-- Welcome Section -->
    <section class="welcome-section fade-in" id="welcome">
        <div class="welcome-intro">
            <div class="welcome-acronym">Olá, sou a SdS</div>
            <h1>Sistema do Sono</h1>
            <p class="welcome-description">
                Seu Sistema do Sono! Seja bem-vindo(a) ao seu centro de controle. Aqui, organizo e exibo todos os seus dados e tendências noturnas. Use esta ferramenta para analisar seu histórico de descanso, identificar padrões e tomar decisões informadas para otimizar suas noites.
            </p>
        </div>
    </section>
    
    <!-- Explicação SdS -->
    <div class="sd-section">
        <p class="sd-message">
            <span class="ai-indicator">SdS:</span> Este é o Rastro Noturno, seu registro diário de qualidade do sono. Cada emoji representa como você dormiu, criando um padrão visual do seu descanso. Me ajuda a entender você melhor! ☺️
        </p>
    </div>
    
    <!-- Rastro Noturno Card -->
    <section class="sleep-monitor fade-in" id="monitor">
        <h2 class="section-title"><span class="emoji">🌒</span> Rastro Noturno</h2>
        
        <div class="week-calendar" id="week-calendar"></div>
        
        <div class="sleep-question">
            <h3>Como foi sua noite de sono ontem?</h3>
            <div class="sleep-options">
                <div class="sleep-option" data-level="easy" data-emoji="🔥">bem fácil pegar no sono 🔥</div>
                <div class="sleep-option" data-level="medium" data-emoji="💤">complicado mais consegui 💤</div>
                <div class="sleep-option" data-level="hard-start" data-emoji="😅">começo difícil, mas deu certo 😅</div>
                <div class="sleep-option" data-level="very-hard" data-emoji="🌪️">Muito difícil, quase não consigo 🌪️</div>
                <div class="sleep-option" data-level="almost-none" data-emoji="❗">Não consegui dormir quase nada ❗</div>
                <div class="sleep-option" data-level="none" data-emoji="👎">Não consegui dormir nada 👎</div>
            </div>
        </div>
        
        <div class="sleep-tips" id="sleep-tips">
            <h4 class="tips-title">Dicas para melhorar seu sono:</h4>
            <ul class="tips-list" id="tips-list"></ul>
        </div>
    </section>
    
    <!-- Explicação Protocolo 7 -->
    <div class="sd-section">
        <p class="sd-message">
            <span class="ai-indicator">SdS:</span> O Protocolo 7 é uma jornada de transformação do sono em 7 dias. Cada missão te prepara para a próxima, criando hábitos duradouros. Vamos juntos nessa? 😉
        </p>
    </div>
    
    <!-- ========== PROTOCOLO 7 (APENAS 1 🔥) ========== -->
    <section class="challenge-section fade-in" id="challenge">
        <div class="challenge-header">
            <h2 class="section-title"><span class="emoji">🔥</span> Protocolo 7</h2>
        </div>
        
        <div class="challenge-days" id="challenge-days"></div>
    </section>
    
    <!-- Explicação Fluxo Nívora -->
    <div class="sd-section">
        <p class="sd-message">
            <span class="ai-indicator">SdS:</span> O Fluxo Nívora é uma técnica de respiração guiada para acalmar a mente antes do sono. Escolha o tempo e o som que mais te relaxa. A experiência é transformadora! 🫢
        </p>
    </div>
    
    <!-- ========== FLUXO NÍVORA (APENAS 1 🌬️) ========== -->
    <section class="breathing-guide fade-in" id="breathing">
        <div class="breathing-header">
            <h2 class="section-title"><span class="emoji">🌬️</span> Fluxo Nívora</h2>
        </div>
        
        <div class="time-selection" id="time-selection">
            <div class="time-option" data-time="60">1 minuto</div>
            <div class="time-option" data-time="300">5 minutos</div>
            <div class="time-option selected" data-time="420">7 minutos</div>
            <div class="time-option" data-time="600">10 minutos</div>
        </div>
        
        <div class="sd-message" style="margin-bottom: 20px; text-align: center; border-left-color: var(--primary);">
            <span class="ai-indicator">SdS:</span> Ideal fazer na cama antes de dormir ☺️
        </div>
        
        <button class="start-breathing-btn" id="start-breathing-btn">Começar Fluxo Nívora</button>
        
        <div class="breathing-instruction-sd" id="breathing-instruction-sd">
            <span class="ai-indicator">SdS:</span> Caso faça deitado, mantenha a postura reta com o corpo virado para cima. Caso faça sentado como meditação, mantenha a postura ereta para evitar sono.
        </div>
        
        <div class="breathing-controls-container" id="breathing-controls">
            <div class="breathing-controls">
                <button class="control-button" id="start-breathing"><span>▶️</span> Iniciar</button>
                <button class="control-button" id="pause-breathing" disabled><span>⏸️</span> Pausar</button>
                <button class="control-button" id="reset-breathing" disabled><span>🔄</span> Reiniciar</button>
            </div>
        </div>
        
        <div class="breathing-display" id="breathing-display">
            <div class="breathing-phase" id="breathing-phase">Prepare-se</div>
            <div class="breathing-instruction" id="breathing-instruction">Respire naturalmente</div>
            <div class="breathing-timer" id="breathing-timer">--</div>
            <div class="progress-container">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="time-remaining" id="time-remaining">Tempo restante: --</div>
        </div>
    </section>
    
    <!-- ========== SISTEMA DO SONO - FUNCIONALIDADES ========== -->
<!-- 3 METAS HORIZONTAIS · SELEÇÃO ÚNICA SEMANAL · INDICADOR DE ROLAGEM -->

<section class="sds-features fade-in" id="sds-features">
    <div class="sds-container">

        <!-- ===== FUNCIONALIDADE 1: ESTIMADOR REM ===== -->
        <!-- EXPLICAÇÃO SdS -->
        <div class="sds-message">
            <div class="sds-bar"></div>
            <div class="sds-content">
                <span class="sds-name">SdS:</span>
                <span class="sds-text">O <strong>Estimador de Fase REM</strong> calcula quando você provavelmente entra no sono dos sonhos. Baseado em ciclos de 90 minutos, esta é uma estimativa científica. O REM é a fase onde ocorrem os sonhos mais vívidos e a consolidação da memória. Responda abaixo para gerar seu gráfico.</span>
            </div>
        </div>

        <div class="feature-card" id="rem-card">
            <div class="feature-header">
                <span class="feature-icon">🌙</span>
                <h3 class="feature-title">Estimador de Fase REM</h3>
            </div>

            <div class="feature-grid two-columns">
                <div class="feature-left">
                    <div class="input-group">
                        <label>🕐 Horário que dorme</label>
                        <input type="time" id="sleepTime" value="23:00" class="sds-input">
                    </div>
                    <div class="input-group">
                        <label>🕐 Horário que acorda</label>
                        <input type="time" id="wakeTime" value="07:00" class="sds-input">
                    </div>
                    <div class="input-group">
                        <label>😴 Sensação ao acordar</label>
                        <select id="wakeFeel" class="sds-select">
                            <option value="0.8">Muito cansado</option>
                            <option value="1" selected>Um pouco cansado</option>
                            <option value="1.2">Relativamente descansado</option>
                            <option value="1.5">Completamente descansado</option>
                        </select>
                    </div>
                    <button class="sds-button" id="calcRem">Gerar Estimativa REM</button>
                </div>

                <div class="feature-right">
                    <div class="rem-result" id="remResult">
                        <div class="rem-gauge">
                            <svg viewBox="0 0 100 100" class="rem-svg">
                                <circle cx="50" cy="50" r="42" fill="none" stroke="rgba(160,160,176,0.3)" stroke-width="8"/>
                                <circle cx="50" cy="50" r="42" fill="none" stroke="var(--azul)" stroke-width="8" stroke-dasharray="264" stroke-dashoffset="264" id="remCircle" stroke-linecap="round" transform="rotate(-90 50 50)"/>
                            </svg>
                            <div class="rem-gauge-center">
                                <span class="rem-gauge-value" id="remPercent">0</span>
                                <span class="rem-gauge-label">% REM</span>
                            </div>
                        </div>

                        <div class="rem-info">
                            <div class="rem-item">
                                <span class="rem-label">Primeiro REM</span>
                                <span class="rem-value" id="firstRem">--:--</span>
                            </div>
                            <div class="rem-item">
                                <span class="rem-label">Ciclos totais</span>
                                <span class="rem-value" id="totalCycles">0</span>
                            </div>
                            <div class="rem-item">
                                <span class="rem-label">REM mais longo</span>
                                <span class="rem-value" id="longestRem">--:--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== FUNCIONALIDADE 2: CALCULADOR DE MELATONINA ===== -->
        <div class="sds-message">
            <div class="sds-bar"></div>
            <div class="sds-content">
                <span class="sds-name">SdS:</span>
                <span class="sds-text">O <strong>Calculador de Melatonina</strong> estima seu nível relativo do hormônio do sono. A melatonina é produzida naturalmente no escuro e regula seu relógio biológico. Este é um indicador educacional baseado em seus hábitos. Responda para gerar seu gráfico colorido.</span>
            </div>
        </div>

        <div class="feature-card" id="melatonin-card">
            <div class="feature-header">
                <span class="feature-icon">🧪</span>
                <h3 class="feature-title">Calculador de Melatonina</h3>
            </div>

            <div class="feature-grid two-columns">
                <div class="feature-left">
                    <div class="input-group">
                        <label>📱 Tempo de tela antes de dormir</label>
                        <select id="screenTime" class="sds-select">
                            <option value="30">Menos de 30min</option>
                            <option value="15" selected>30-60min</option>
                            <option value="0">1-2 horas</option>
                            <option value="-15">Mais de 2 horas</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>☀️ Exposição solar pela manhã</label>
                        <select id="sunExposure" class="sds-select">
                            <option value="20">Sim, 20min+</option>
                            <option value="10" selected>Sim, poucos minutos</option>
                            <option value="0">Raramente</option>
                            <option value="-10">Não (trabalho noturno)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>😎 Óculos bloqueador de azul</label>
                        <select id="blueBlock" class="sds-select">
                            <option value="15">Sempre 2h antes</option>
                            <option value="5" selected>Às vezes</option>
                            <option value="0">Não uso</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>☕ Cafeína após as 14h</label>
                        <select id="caffeine" class="sds-select">
                            <option value="0">Nunca</option>
                            <option value="-10" selected>Raramente</option>
                            <option value="-20">Frequentemente</option>
                            <option value="-30">Sempre</option>
                        </select>
                    </div>
                    <button class="sds-button" id="calcMelatonin">Calcular Nível</button>
                </div>

                <div class="feature-right">
                    <div class="melatonin-result" id="melatoninResult">
                        <div class="melatonin-gauge">
                            <svg viewBox="0 0 100 100" class="melatonin-svg">
                                <circle cx="50" cy="50" r="42" fill="none" stroke="rgba(160,160,176,0.3)" stroke-width="8"/>
                                <circle cx="50" cy="50" r="42" fill="none" stroke="var(--azul)" stroke-width="8" stroke-dasharray="264" stroke-dashoffset="264" id="melatoninCircle" stroke-linecap="round" transform="rotate(-90 50 50)"/>
                            </svg>
                            <div class="melatonin-gauge-center">
                                <span class="melatonin-gauge-value" id="melatoninPercent">0</span>
                                <span class="melatonin-gauge-label">%</span>
                            </div>
                        </div>

                        <div class="melatonin-level" id="melatoninLevel">
                            <span class="level-badge" id="levelBadge">aguardando</span>
                        </div>

                        <div class="melatonin-analysis" id="melatoninAnalysis">
                            <p class="analysis-text">responda as perguntas e gere seu resultado</p>
                        </div>

                        <div class="dopamine-info">
                            <span class="dopamine-label">🧠 Dopamina:</span>
                            <span class="dopamine-value" id="dopamineValue">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== FUNCIONALIDADE 3: METAS (3 CARDS HORIZONTAIS) ===== -->
        <div class="sds-message">
            <div class="sds-bar"></div>
            <div class="sds-content">
                <span class="sds-name">SdS:</span>
                <span class="sds-text">Escolha <strong>UMA meta</strong> para focar esta semana. Após selecionada, você não poderá trocar até o fim dos 7 dias. Arraste para o lado e veja todas as opções.</span>
            </div>
        </div>

        <div class="goals-horizontal-section" id="goals-section">
            <div class="goals-scroll-wrapper">
                <!-- Seta Esquerda (Desktop) -->
                <div class="scroll-arrow left" id="leftArrow">‹</div>
                
                <div class="goals-scroll-container" id="goalsScrollContainer">
                    <!-- META 1: SIMPLES -->
                    <div class="goal-horizontal" data-goal="1">
                        <div class="goal-horizontal-header">
                            <span class="goal-horizontal-icon">😴</span>
                            <h4 class="goal-horizontal-title">Meta Simples</h4>
                        </div>
                        <div class="goal-horizontal-items">
                            <div class="goal-horizontal-item">⏰ 56h de sono</div>
                            <div class="goal-horizontal-item">📵 1h sem telas</div>
                            <div class="goal-horizontal-item">💧 2L água/dia</div>
                        </div>
                        <div class="goal-horizontal-footer">
                            <span class="goal-select">selecionar</span>
                        </div>
                    </div>

                    <!-- META 2: MEDIANA -->
                    <div class="goal-horizontal" data-goal="2">
                        <div class="goal-horizontal-header">
                            <span class="goal-horizontal-icon">💪</span>
                            <h4 class="goal-horizontal-title">Meta Mediana</h4>
                        </div>
                        <div class="goal-horizontal-items">
                            <div class="goal-horizontal-item">⏰ 56h de sono</div>
                            <div class="goal-horizontal-item">📵 2h sem telas</div>
                            <div class="goal-horizontal-item">💧 2L água/dia</div>
                            <div class="goal-horizontal-item">📖 20min leitura</div>
                        </div>
                        <div class="goal-horizontal-footer">
                            <span class="goal-select">selecionar</span>
                        </div>
                    </div>

                    <!-- META 3: DESAFIADORA -->
                    <div class="goal-horizontal" data-goal="3">
                        <div class="goal-horizontal-header">
                            <span class="goal-horizontal-icon">🔥</span>
                            <h4 class="goal-horizontal-title">Meta Desafiadora</h4>
                        </div>
                        <div class="goal-horizontal-items">
                            <div class="goal-horizontal-item">⏰ 56h de sono</div>
                            <div class="goal-horizontal-item">📵 2h sem telas</div>
                            <div class="goal-horizontal-item">💧 2L água/dia</div>
                            <div class="goal-horizontal-item">📖 20min leitura</div>
                            <div class="goal-horizontal-item">🏃 30min exercício</div>
                            <div class="goal-horizontal-item">🌬️ 10min respiração</div>
                        </div>
                        <div class="goal-horizontal-footer">
                            <span class="goal-select">selecionar</span>
                        </div>
                    </div>
                </div>

                <!-- Seta Direita (Desktop) -->
                <div class="scroll-arrow right" id="rightArrow">›</div>
            </div>

            <!-- Dots (Mobile) -->
            <div class="scroll-dots">
                <span class="dot active"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>

            <!-- Área da Meta Ativa (Expandida) -->
            <div class="active-goal-area" id="activeGoalArea" style="display: none;">
                <div class="active-goal-header">
                    <span class="active-goal-icon" id="activeGoalIcon">🔥</span>
                    <h3 class="active-goal-title" id="activeGoalTitle">Meta Selecionada</h3>
                </div>

                <div class="active-goal-items" id="activeGoalItems">
                    <!-- Preenchido via JS -->
                </div>

                <div class="active-goal-gauge">
                    <svg viewBox="0 0 100 100" class="active-goal-svg">
                        <circle cx="50" cy="50" r="42" fill="none" stroke="rgba(160,160,176,0.3)" stroke-width="8"/>
                        <circle cx="50" cy="50" r="42" fill="none" stroke="var(--azul)" stroke-width="8" stroke-dasharray="264" stroke-dashoffset="198" id="activeGoalCircle" stroke-linecap="round" transform="rotate(-90 50 50)"/>
                    </svg>
                    <div class="active-goal-gauge-center">
                        <span class="active-goal-gauge-value" id="activeGoalPercent">25</span>
                        <span class="active-goal-gauge-label">%</span>
                    </div>
                </div>

                <button class="register-goal-button" id="registerGoalProgress">Registrar Progresso</button>
            </div>
        </div>
    </div>
</section>

<style>
:root {
    --azul: #0044CC;
    --card-bg: rgba(255, 255, 255, 0.05); /* Transparente para ver estrelas */
}

/* ========== CONTAINER PRINCIPAL ========== */
.sds-features {
    margin: 40px 0;
    padding: 0 5%;
}

.sds-container {
    max-width: 1200px;
    margin: 0 auto;
}

/* ========== MENSAGENS SdS (ESTILO UNIFICADO) ========== */
.sds-message {
    display: flex;
    gap: 12px;
    margin: 30px 0 20px;
    padding: 16px 20px;
    background: rgba(0, 68, 204, 0.08);
    border-radius: 12px;
    border-left: 4px solid var(--azul);
    animation: fadeInUp 0.5s ease;
}

.sds-bar {
    display: none; /* Esconder - deixar apenas border-left */
}

.sds-content {
    flex: 1;
}

.sds-name {
    font-weight: 700;
    color: var(--azul);
    margin-right: 8px;
}

.sds-text {
    color: #E0E0E0;
    line-height: 1.6;
}

.sds-text strong {
    color: var(--azul);
}

/* ========== FEATURE CARDS ========== */
.feature-card {
    background: var(--card-bg);
    border-radius: 16px;
    padding: 30px;
    margin-bottom: 30px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 30px rgba(0, 68, 204, 0.2);
    border-color: rgba(0, 68, 204, 0.4);
}

.feature-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 25px;
}

.feature-icon {
    font-size: 2rem;
}

.feature-title {
    font-size: 1.5rem;
    color: var(--azul);
    margin: 0;
}

/* ========== GRID 2 COLUNAS ========== */
.feature-grid.two-columns {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}

.feature-left,
.feature-right {
    display: flex;
    flex-direction: column;
}

/* ========== INPUTS ========== */
.input-group {
    margin-bottom: 20px;
}

.input-group label {
    display: block;
    margin-bottom: 8px;
    color: #B0B0C0;
    font-weight: 500;
    font-size: 0.95rem;
}

.sds-input,
.sds-select {
    width: 100%;
    padding: 12px 16px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: white;
    font-size: 1rem;
    transition: all 0.3s;
}

.sds-input:focus,
.sds-select:focus {
    outline: none;
    border-color: var(--azul);
    background: rgba(0, 68, 204, 0.1);
}

.sds-button {
    width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, var(--azul), #0033A0);
    border: none;
    border-radius: 10px;
    color: white;
    font-size: 1.05rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    margin-top: 10px;
}

.sds-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 68, 204, 0.4);
}

/* ========== REM RESULT ========== */
.rem-result {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

.rem-gauge {
    position: relative;
    width: 150px;
    height: 150px;
}

.rem-svg {
    width: 100%;
    height: 100%;
}

.rem-gauge-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.rem-gauge-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--azul);
    display: block;
}

.rem-gauge-label {
    font-size: 0.9rem;
    color: #A0A0B0;
}

.rem-info {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.rem-item {
    display: flex;
    justify-content: space-between;
    padding: 10px 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
}

.rem-label {
    color: #B0B0C0;
    font-size: 0.95rem;
}

.rem-value {
    color: var(--azul);
    font-weight: 600;
    font-size: 1rem;
}

/* ========== MELATONIN RESULT ========== */
.melatonin-result {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

.melatonin-gauge {
    position: relative;
    width: 150px;
    height: 150px;
}

.melatonin-svg {
    width: 100%;
    height: 100%;
}

.melatonin-gauge-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.melatonin-gauge-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--azul);
    display: block;
}

.melatonin-gauge-label {
    font-size: 0.9rem;
    color: #A0A0B0;
}

.melatonin-level {
    margin: 10px 0;
}

.level-badge {
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.95rem;
    background: rgba(255, 255, 255, 0.1);
    color: #A0A0B0;
}

.melatonin-analysis {
    text-align: center;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    width: 100%;
}

.analysis-text {
    color: #B0B0C0;
    font-size: 0.95rem;
    margin: 0;
    line-height: 1.5;
}

.dopamine-info {
    display: flex;
    justify-content: space-between;
    width: 100%;
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
}

.dopamine-label {
    color: #B0B0C0;
    font-size: 0.95rem;
}

.dopamine-value {
    color: var(--azul);
    font-weight: 600;
    font-size: 1rem;
}

/* ========== METAS HORIZONTAIS ========== */
.goals-horizontal-section {
    margin: 30px 0;
}

.goals-scroll-wrapper {
    position: relative;
    padding: 0 50px;
}

.goals-scroll-container {
    display: flex;
    gap: 25px;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    padding: 10px 5px 20px;
    -webkit-overflow-scrolling: touch;
}

.goals-scroll-container::-webkit-scrollbar {
    height: 6px;
}

.goals-scroll-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

.goals-scroll-container::-webkit-scrollbar-thumb {
    background: var(--azul);
    border-radius: 10px;
}

.goal-horizontal {
    min-width: 320px;
    background: var(--card-bg);
    border-radius: 16px;
    padding: 25px;
    border: 2px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
    scroll-snap-align: start;
    cursor: pointer;
}

.goal-horizontal:hover {
    transform: translateY(-4px);
    border-color: var(--azul);
    box-shadow: 0 10px 30px rgba(0, 68, 204, 0.3);
}

.goal-horizontal.active {
    border-color: var(--azul);
    background: rgba(0, 68, 204, 0.15);
}

.goal-horizontal-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
}

.goal-horizontal-icon {
    font-size: 2rem;
}

.goal-horizontal-title {
    font-size: 1.3rem;
    color: var(--azul);
    margin: 0;
}

.goal-horizontal-items {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 20px;
}

.goal-horizontal-item {
    padding: 10px 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    color: #E0E0E0;
    font-size: 0.95rem;
}

.goal-horizontal-footer {
    text-align: center;
    padding-top: 15px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.goal-select {
    color: var(--azul);
    font-weight: 600;
    font-size: 0.95rem;
}

/* ========== SCROLL ARROWS (DESKTOP) ========== */
.scroll-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: var(--azul);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    z-index: 10;
    transition: all 0.3s;
    opacity: 0.7;
}

.scroll-arrow:hover {
    opacity: 1;
    transform: translateY(-50%) scale(1.1);
}

.scroll-arrow.left {
    left: 0;
}

.scroll-arrow.right {
    right: 0;
}

/* ========== DOTS (MOBILE) ========== */
.scroll-dots {
    display: none;
    justify-content: center;
    gap: 8px;
    margin-top: 15px;
}

.dot {
    width: 8px;
    height: 8px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    transition: all 0.3s;
}

.dot.active {
    background: var(--azul);
    width: 24px;
    border-radius: 4px;
}

/* ========== ÁREA DA META ATIVA ========== */
.active-goal-area {
    margin-top: 30px;
    padding: 30px;
    background: var(--card-bg);
    border-radius: 16px;
    border: 2px solid var(--azul);
}

.active-goal-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 25px;
}

.active-goal-icon {
    font-size: 2.5rem;
}

.active-goal-title {
    font-size: 1.6rem;
    color: var(--azul);
    margin: 0;
}

.active-goal-items {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 25px;
}

.active-goal-gauge {
    position: relative;
    width: 180px;
    height: 180px;
    margin: 0 auto 25px;
}

.active-goal-svg {
    width: 100%;
    height: 100%;
}

.active-goal-gauge-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.active-goal-gauge-value {
    font-size: 3rem;
    font-weight: 700;
    color: var(--azul);
    display: block;
}

.active-goal-gauge-label {
    font-size: 1rem;
    color: #A0A0B0;
}

.register-goal-button {
    width: 100%;
    padding: 16px;
    background: linear-gradient(135deg, var(--azul), #0033A0);
    border: none;
    border-radius: 10px;
    color: white;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.register-goal-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 68, 204, 0.4);
}

/* ========== RESPONSIVO ========== */
@media (max-width: 768px) {
    .feature-grid.two-columns {
        grid-template-columns: 1fr;
    }

    .goals-scroll-wrapper {
        padding: 0;
    }

    .scroll-arrow {
        display: none;
    }

    .scroll-dots {
        display: flex;
    }

    .goal-horizontal {
        min-width: 280px;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // ===== FUNCIONALIDADE 1: ESTIMADOR REM =====
    const calcRemBtn = document.getElementById('calcRem');
    const sleepTimeInput = document.getElementById('sleepTime');
    const wakeTimeInput = document.getElementById('wakeTime');
    const wakeFeelSelect = document.getElementById('wakeFeel');
    const remCircle = document.getElementById('remCircle');
    const remPercent = document.getElementById('remPercent');
    const firstRemSpan = document.getElementById('firstRem');
    const totalCyclesSpan = document.getElementById('totalCycles');
    const longestRemSpan = document.getElementById('longestRem');
    
    calcRemBtn.addEventListener('click', function() {
        const sleepTime = sleepTimeInput.value;
        const wakeTime = wakeTimeInput.value;
        const feelFactor = parseFloat(wakeFeelSelect.value);
        
        if (!sleepTime || !wakeTime) {
            alert('Por favor, preencha os horários');
            return;
        }
        
        // Calcular duração do sono
        const [sleepH, sleepM] = sleepTime.split(':').map(Number);
        const [wakeH, wakeM] = wakeTime.split(':').map(Number);
        
        let sleepMinutes = sleepH * 60 + sleepM;
        let wakeMinutes = wakeH * 60 + wakeM;
        
        if (wakeMinutes < sleepMinutes) wakeMinutes += 24 * 60;
        
        const totalMinutes = wakeMinutes - sleepMinutes;
        const totalHours = totalMinutes / 60;
        
        // Calcular ciclos (90 min cada)
        const cycles = Math.floor(totalMinutes / 90);
        
        // Estimar % REM (aumenta ao longo da noite)
        let remPercent = 0;
        if (cycles >= 1) remPercent = 15;
        if (cycles >= 2) remPercent = 18;
        if (cycles >= 3) remPercent = 20;
        if (cycles >= 4) remPercent = 22;
        if (cycles >= 5) remPercent = 25;
        
        // Ajustar pelo feeling
        remPercent = Math.round(remPercent * feelFactor);
        if (remPercent > 30) remPercent = 30;
        
        // Primeiro REM ~90min após dormir
        const firstRemMinutes = sleepMinutes + 90;
        const firstRemH = Math.floor(firstRemMinutes / 60) % 24;
        const firstRemM = firstRemMinutes % 60;
        const firstRemStr = `${String(firstRemH).padStart(2,'0')}:${String(firstRemM).padStart(2,'0')}`;
        
        // REM mais longo = último ciclo
        const longestRemMinutes = sleepMinutes + (cycles * 90);
        const longestRemH = Math.floor(longestRemMinutes / 60) % 24;
        const longestRemM = longestRemMinutes % 60;
        const longestRemStr = `${String(longestRemH).padStart(2,'0')}:${String(longestRemM).padStart(2,'0')}`;
        
        // Atualizar UI
        document.getElementById('remPercent').textContent = remPercent;
        firstRemSpan.textContent = firstRemStr;
        totalCyclesSpan.textContent = cycles;
        longestRemSpan.textContent = longestRemStr;
        
        // Animar círculo
        const offset = 264 * (1 - remPercent / 100);
        remCircle.style.strokeDashoffset = offset;
    });
    
    // ===== FUNCIONALIDADE 2: CALCULADOR DE MELATONINA =====
    const calcMelatoninBtn = document.getElementById('calcMelatonin');
    const screenTimeSelect = document.getElementById('screenTime');
    const sunExposureSelect = document.getElementById('sunExposure');
    const blueBlockSelect = document.getElementById('blueBlock');
    const caffeineSelect = document.getElementById('caffeine');
    const melatoninCircle = document.getElementById('melatoninCircle');
    const melatoninPercent = document.getElementById('melatoninPercent');
    const levelBadge = document.getElementById('levelBadge');
    const melatoninAnalysis = document.getElementById('melatoninAnalysis');
    const dopamineValue = document.getElementById('dopamineValue');
    
    calcMelatoninBtn.addEventListener('click', function() {
        const screenScore = parseInt(screenTimeSelect.value);
        const sunScore = parseInt(sunExposureSelect.value);
        const blueScore = parseInt(blueBlockSelect.value);
        const caffeineScore = parseInt(caffeineSelect.value);
        
        let totalScore = 50 + screenScore + sunScore + blueScore + caffeineScore;
        if (totalScore < 0) totalScore = 0;
        if (totalScore > 100) totalScore = 100;
        
        // Nível
        let level = '';
        let levelColor = '';
        let analysis = '';
        let dopamine = '';
        
        if (totalScore >= 80) {
            level = 'EXCELENTE';
            levelColor = '#00FF88';
            analysis = 'Seus hábitos favorecem fortemente a produção natural de melatonina. Continue assim!';
            dopamine = 'Equilibrada';
        } else if (totalScore >= 60) {
            level = 'BOM';
            levelColor = '#4CAF50';
            analysis = 'Boa produção de melatonina. Pequenos ajustes podem otimizar ainda mais.';
            dopamine = 'Normal';
        } else if (totalScore >= 40) {
            level = 'MODERADO';
            levelColor = '#FFA726';
            analysis = 'Produção moderada. Revise seus hábitos noturnos e exposição solar.';
            dopamine = 'Levemente elevada';
        } else if (totalScore >= 20) {
            level = 'BAIXO';
            levelColor = '#FF6B6B';
            analysis = 'Produção comprometida. Reduza telas antes de dormir e aumente exposição solar.';
            dopamine = 'Elevada';
        } else {
            level = 'CRÍTICO';
            levelColor = '#D32F2F';
            analysis = 'Produção muito baixa. Considere mudanças significativas nos hábitos.';
            dopamine = 'Muito elevada';
        }
        
        // Atualizar UI
        melatoninPercent.textContent = totalScore;
        levelBadge.textContent = level;
        levelBadge.style.background = levelColor;
        levelBadge.style.color = 'white';
        melatoninAnalysis.querySelector('.analysis-text').textContent = analysis;
        dopamineValue.textContent = dopamine;
        
        // Animar círculo
        const offset = 264 * (1 - totalScore / 100);
        melatoninCircle.style.strokeDashoffset = offset;
        melatoninCircle.style.stroke = levelColor;
        melatoninPercent.style.color = levelColor;
    });
    
    // ===== FUNCIONALIDADE 3: METAS =====
    const goalCards = document.querySelectorAll('.goal-horizontal');
    const activeGoalArea = document.getElementById('activeGoalArea');
    const activeGoalIcon = document.getElementById('activeGoalIcon');
    const activeGoalTitle = document.getElementById('activeGoalTitle');
    const activeGoalItems = document.getElementById('activeGoalItems');
    const activeGoalCircle = document.getElementById('activeGoalCircle');
    const activeGoalPercent = document.getElementById('activeGoalPercent');
    const registerButton = document.getElementById('registerGoalProgress');
    const scrollContainer = document.querySelector('.goals-scroll-container');
    const dots = document.querySelectorAll('.dot');
    const leftArrow = document.querySelector('.scroll-arrow.left');
    const rightArrow = document.querySelector('.scroll-arrow.right');
    
    let hasSelectedGoal = false;
    let selectedGoalId = null;
    
    // Dados das metas
    const goalsData = {
        1: {
            icon: '😴',
            title: 'Meta Simples',
            items: ['⏰ 56h de sono', '📵 1h sem telas', '💧 2L água/dia'],
            percent: 40,
            circleOffset: 158
        },
        2: {
            icon: '💪',
            title: 'Meta Mediana',
            items: ['⏰ 56h de sono', '📵 2h sem telas', '💧 2L água/dia', '📖 20min leitura'],
            percent: 35,
            circleOffset: 172
        },
        3: {
            icon: '🔥',
            title: 'Meta Desafiadora',
            items: ['⏰ 56h de sono', '📵 2h sem telas', '💧 2L água/dia', '📖 20min leitura', '🏃 30min exercício', '🌬️ 10min respiração'],
            percent: 25,
            circleOffset: 198
        }
    };
    
    // Atualizar dots conforme scroll
    function updateDots() {
        if (!scrollContainer) return;
        const scrollLeft = scrollContainer.scrollLeft;
        const cardWidth = 345; // 320px + 25px gap
        const activeIndex = Math.round(scrollLeft / cardWidth);
        
        dots.forEach((dot, i) => {
            if (i === activeIndex) dot.classList.add('active');
            else dot.classList.remove('active');
        });
    }
    
    if (scrollContainer) {
        scrollContainer.addEventListener('scroll', updateDots);
    }
    
    // Setas de navegação
    if (leftArrow) {
        leftArrow.addEventListener('click', () => {
            if (scrollContainer) {
                scrollContainer.scrollBy({ left: -345, behavior: 'smooth' });
            }
        });
    }
    
    if (rightArrow) {
        rightArrow.addEventListener('click', () => {
            if (scrollContainer) {
                scrollContainer.scrollBy({ left: 345, behavior: 'smooth' });
            }
        });
    }
    
    // Desmarcar todos os cards
    function deactivateAllGoals() {
        goalCards.forEach(card => card.classList.remove('active'));
    }
    
    // Atualizar área ativa
    function updateActiveGoal(goalId) {
        const data = goalsData[goalId];
        if (!data) return;
        
        activeGoalIcon.textContent = data.icon;
        activeGoalTitle.textContent = data.title;
        
        // Atualizar itens
        activeGoalItems.innerHTML = '';
        data.items.forEach(item => {
            const div = document.createElement('div');
            div.className = 'goal-horizontal-item';
            div.textContent = item;
            activeGoalItems.appendChild(div);
        });
        
        activeGoalPercent.textContent = data.percent;
        activeGoalCircle.style.strokeDashoffset = data.circleOffset;
        
        activeGoalArea.style.display = 'block';
        
        // Desabilitar outros cards
        goalCards.forEach(card => {
            if (card.dataset.goal != goalId) {
                card.style.pointerEvents = 'none';
                card.style.opacity = '0.2';
            }
        });
    }
    
    // Event listeners para os cards
    goalCards.forEach(card => {
        card.addEventListener('click', function() {
            if (hasSelectedGoal) {
                alert('✅ Você já selecionou uma meta esta semana. Só poderá escolher outra após 7 dias.');
                return;
            }
            
            const goalId = this.dataset.goal;
            deactivateAllGoals();
            this.classList.add('active');
            
            hasSelectedGoal = true;
            selectedGoalId = goalId;
            
            // Desabilitar todos os selects
            goalCards.forEach(c => {
                const selectSpan = c.querySelector('.goal-select');
                if (selectSpan) selectSpan.textContent = 'selecionado ✓';
            });
            
            updateActiveGoal(goalId);
        });
    });
    
    // Botão de registro
    registerButton.addEventListener('click', function() {
        if (!hasSelectedGoal) {
            alert('Primeiro selecione uma meta.');
            return;
        }
        
        alert('✅ Progresso registrado! Continue focado.');
        
        // Avançar percentual
        if (selectedGoalId && goalsData[selectedGoalId]) {
            let newPercent = goalsData[selectedGoalId].percent + 5;
            if (newPercent > 100) newPercent = 100;
            
            activeGoalPercent.textContent = newPercent;
            const newOffset = 264 * (1 - newPercent / 100);
            activeGoalCircle.style.strokeDashoffset = newOffset;
            
            goalsData[selectedGoalId].percent = newPercent;
            goalsData[selectedGoalId].circleOffset = newOffset;
        }
    });
    
    // Simular clique no primeiro card após 500ms
    setTimeout(() => {
        // Não selecionar automaticamente, deixar o usuário escolher
        // Apenas atualizar dots
        updateDots();
    }, 500);
});
</script>
</main>

<!-- ========== NOTIFICAÇÕES DO PROTOCOLO 7 (Design Restaurado) ========== -->
<div class="challenge-mission-modal" id="mission-modal">
    <div class="mission-content">
        <button class="close-mission" id="close-mission">✕</button>
        <div class="mission-header">
            <h3 class="mission-title" id="mission-title">Missão Dia: 1</h3>
            <div class="mission-level" id="mission-level">Nível 1</div>
        </div>
        <div class="sd-mission-message">
            <span class="ai-indicator">SdS:</span> <span id="mission-description"></span>
        </div>
        <div class="mission-actions">
            <button class="mission-btn accept-btn" id="accept-mission">Aceitar Missão</button>
            <button class="mission-btn decline-btn" id="decline-mission">Recusar Missão</button>
        </div>
    </div>
</div>

<div class="acceptance-modal" id="acceptance-modal">
    <div class="acceptance-content">
        <button class="close-mission" id="close-acceptance">✕</button>
        <div class="acceptance-message">
            <span class="ai-indicator">SdS:</span> <span id="acceptance-text"></span>
        </div>
        <button class="acceptance-ok" id="acceptance-ok">Entendido</button>
    </div>
</div>

<div class="completion-modal" id="completion-modal">
    <div class="completion-content">
        <button class="close-mission" id="close-completion">✕</button>
        <div class="completion-message" id="completion-text"></div>
        <div class="completion-signature">— NIVORA</div>
        <button class="completion-ok" id="completion-ok">Honrado</button>
    </div>
</div>

<script>
    // ========== CONFIGURAÇÕES DO SISTEMA ==========
    const CONFIG = {
        tipsByLevel: {
            easy: [
                "Continue com sua rotina atual - está funcionando bem!",
                "Mantenha consistência nos horários de dormir e acordar",
                "Continue evitando telas 1 hora antes de dormir",
                "Sua higiene do sono está excelente",
                "Considere manter um diário de sono para referência futura",
                "Aproveite para criar um ambiente ainda mais relaxante",
                "Pratique gratidão antes de dormir - anote 3 coisas boas do dia"
            ],
            medium: [
                "Tente desligar telas 1h30 antes de dormir",
                "Experimente chá de camomila 45 minutos antes de deitar",
                "Reduza cafeína após às 14h",
                "Alongamentos leves antes de dormir podem ajudar",
                "Mantenha temperatura do quarto entre 18-20°C",
                "Tente ouvir sons relaxantes como chuva ou ondas do mar",
                "Um banho morno 1 hora antes de dormir ajuda a relaxar"
            ],
            'hard-start': [
                "Inicie rotina de relaxamento 1h antes de dormir",
                "Técnica 4-7-8 respiração: inspire 4s, segure 7s, expire 8s",
                "Evite discussões ou trabalho intenso à noite",
                "Leitura leve (livro físico) por 20 minutos",
                "Banho morno 90 minutos antes de dormir",
                "Tente meditação guiada de 10 minutos antes de deitar",
                "Escreva suas preocupações em um papel para 'deixá-las fora da cama'"
            ],
            'very-hard': [
                "Considere conversar com um profissional para orientação",
                "Estabeleça horário fixo para dormir TODOS os dias",
                "Evite cochilos durante o dia",
                "Exercícios físicos regulares (mas não 3h antes de dormir)",
                "Técnica militar de relaxamento: relaxe cada músculo do corpo",
                "Experimente aromaterapia com lavanda no quarto",
                "Crie um ritual noturno consistente para sinalizar ao corpo que é hora de dormir"
            ],
            'almost-none': [
                "Busque apoio profissional para melhorar sua qualidade de sono",
                "Mantenha diário detalhado de hábitos e emoções",
                "Evite álcool completamente",
                "Ambiente totalmente escuro e silencioso",
                "Considere terapia para ajudar com padrões de sono",
                "Pratique mindfulness durante o dia para reduzir ansiedade noturna",
                "Estabeleça uma zona livre de eletrônicos no seu quarto"
            ],
            none: [
                "Procure orientação para desenvolver hábitos de sono saudáveis",
                "Não tome medicamentos sem prescrição",
                "Evite cafeína completamente",
                "Higiene do sono rigorosa: mesmo horário todo dia",
                "Acompanhamento especializado pode ajudar a estabelecer rotinas",
                "Tente técnicas de relaxamento progressivo antes de dormir",
                "Considere grupos de apoio ou terapia para insônia"
            ]
        },
        breathingCycle: [
            { phase: "Inspire", duration: 6, instruction: "Puxe o ar calmamente" },
            { phase: "Segure", duration: 4, instruction: "Segure o ar calmamente" },
            { phase: "Expire", duration: 6, instruction: "Solte o ar calmamente" }
        ],
        challengeMissions: [
            {
                day: 1,
                level: 1,
                title: "Missão Dia: 1",
                rank: "Iniciado",
                description: "Afaste-se de todas as telas (celular, computador, TV) por 1 hora antes de dormir. Use este tempo para ler um livro físico, fazer alongamentos leves ou preparar seu ambiente para o sono. ☺️"
            },
            {
                day: 2,
                level: 2,
                title: "Missão Dia: 2",
                rank: "Explorador",
                description: "Pratique a técnica 4-7-8 de respiração por 15 minutos antes de dormir: inspire por 4 segundos, segure por 7 segundos e expire por 8 segundos. Complete 10 ciclos. 🫢"
            },
            {
                day: 3,
                level: 4,
                title: "Missão Dia: 3",
                rank: "Aprendiz",
                description: "Crie um ritual noturno completo de 45 minutos que inclua: 1) banho morno com óleo de lavanda, 2) meditação guiada de 15 minutos, 3) escrita de diário (3 coisas boas do dia + 1 intenção para o sono). 😌"
            },
            {
                day: 4,
                level: 8,
                title: "Missão Dia: 4",
                rank: "Avançado",
                description: "Execute o relaxamento muscular progressivo completo duas vezes seguidas. Depois, pratica respiração diafragmática por 10 minutos em total silêncio e escuridão. 🧘"
            },
            {
                day: 5,
                level: 16,
                title: "Missão Dia: 5",
                rank: "Especialista",
                description: "Passe o dia inteiro sem cafeína, açúcar ou alimentos pesados. À noite, faça 30 minutos de yoga suave, 20 minutos de meditação em silêncio total e 15 minutos de leitura com luz de velas apenas. 🔥"
            },
            {
                day: 6,
                level: 32,
                title: "Missão Dia: 6",
                rank: "Mestre",
                description: "Desintoxicação digital completa por 3 horas antes de dormir. Crie um ambiente perfeito: temperatura 17°C, ruído branco, aromaterapia com 3 óleos essenciais e visualização guiada de 25 minutos. 🌌"
            },
            {
                day: 7,
                level: 64,
                title: "Missão Dia: 7",
                rank: "Élite",
                description: "O DESAFIO SUPREMO: Execute alongamentos avançados por 45 minutos, seguidos de meditação profunda de 30 minutos. Finalize aplicando a técnica militar para dormir em 2 minutos (relaxe cada grupo muscular sequencialmente, controle da respiração e visualização de cenário calmo). A noite que redefine tudo. 🔥🔥🔥🔥"
            }
        ]
    };
    
    // ========== ESTADO DO SISTEMA ==========
    const STATE = {
        currentDate: new Date(),
        selectedDate: new Date(),
        hasSelectedToday: false,
        breathing: {
            selectedTime: 420, // 7 minutos como padrão
            selectedSound: 'white',
            timerInterval: null,
            isRunning: false,
            isPaused: false,
            remainingTime: 0,
            totalTime: 0,
            isActive: false,
            currentCycleIndex: 0,
            cycleElapsed: 0,
            currentCycleTime: 0
        },
        challenge: {
            currentDay: 1, // SEMPRE COMEÇA NO DIA 1
            completedDays: [],
            currentMission: null,
            startDates: {},
            lastAcceptanceDate: null,
            playerName: "Jogador"
        }
    };
    
    // ========== SISTEMA DE ÁUDIO COM MEDIA SESSION API ==========
    const AUDIO_SYSTEM = {
        players: {},
        currentSound: null,
        isPlaying: false,
        
        soundUrls: {
            white: 'https://assets.mixkit.co/sfx/preview/mixkit-rain-loop-1249.mp3',
            rain: 'https://assets.mixkit.co/sfx/preview/mixkit-light-rain-loop-1250.mp3',
            waves: 'https://assets.mixkit.co/sfx/preview/mixkit-ocean-waves-loop-1244.mp3',
            binaural: 'https://assets.mixkit.co/sfx/preview/mixkit-wind-loop-1002.mp3'
        },
        
        init() {
            // Configurar Media Session API
            if ('mediaSession' in navigator) {
                navigator.mediaSession.setActionHandler('play', () => {
                    if (this.currentSound) {
                        this.playSound(this.currentSound);
                    }
                });
                
                navigator.mediaSession.setActionHandler('pause', () => {
                    this.stopAll();
                });
                
                navigator.mediaSession.setActionHandler('stop', () => {
                    this.stopAll();
                });
            }
            
            // Pre-criar players de áudio com LOOP INFINITO
            Object.keys(this.soundUrls).forEach(soundType => {
                const audio = new Audio(this.soundUrls[soundType]);
                audio.loop = true; // LOOP INFINITO
                audio.preload = 'auto';
                audio.volume = 0.5;
                this.players[soundType] = audio;
                
                // Debug: verificar se áudio carrega
                audio.addEventListener('canplaythrough', () => {
                    console.log(`Áudio ${soundType} carregado com sucesso`);
                });
                
                audio.addEventListener('error', (e) => {
                    console.error(`Erro ao carregar áudio ${soundType}:`, e);
                });
            });
            
            console.log('Sistema de áudio inicializado com sucesso!');
        },
        
        playSound(soundType) {
            // Parar qualquer som atual (CONTROLE ÚNICO)
            this.stopAll();
            
            // Iniciar novo som
            if (this.players[soundType]) {
                this.players[soundType].play().then(() => {
                    this.currentSound = soundType;
                    this.isPlaying = true;
                    
                    // Atualizar Media Session API
                    if ('mediaSession' in navigator) {
                        const soundNames = {
                            white: 'Ruído Branco',
                            rain: 'Chuva Suave',
                            waves: 'Som do Mar',
                            binaural: 'Binaural'
                        };
                        
                        navigator.mediaSession.metadata = new MediaMetadata({
                            title: soundNames[soundType] || 'Som Relaxante',
                            artist: 'Sistema do Sono',
                            album: 'Fluxo Nívora',
                            artwork: [
                                { src: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjU2IiBjeT0iMjU2IiByPSIyNTYiIGZpbGw9IiMwMDQ0Q0MiLz48L3N2Zz4=', sizes: '512x512', type: 'image/svg+xml' }
                            ]
                        });
                        
                        navigator.mediaSession.playbackState = 'playing';
                    }
                    
                    console.log(`Reproduzindo: ${soundType}`);
                }).catch(error => {
                    console.error('Erro ao reproduzir áudio:', error);
                    // Tentar carregar novamente
                    this.players[soundType].load();
                });
            }
        },
        
        stopAll() {
            Object.values(this.players).forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
            this.isPlaying = false;
            this.currentSound = null;
            
            // Atualizar Media Session API
            if ('mediaSession' in navigator) {
                navigator.mediaSession.playbackState = 'paused';
            }
            
            console.log('Todos os áudios parados');
        },
        
        setVolume(volume) {
            Object.values(this.players).forEach(audio => {
                audio.volume = Math.max(0, Math.min(1, volume));
            });
        }
    };
    
    // ========== INICIALIZAÇÃO ==========
    window.addEventListener('load', function() {
        setTimeout(() => {
            document.getElementById('loading-screen').classList.add('hidden');
            initEverything();
        }, 100);
    });
    
    function initEverything() {
        createStars('stars-container', 150);
        generateWeekCalendar();
        setupSleepOptions();
        setupBreathingGuide();
        setupChallenge();
        updateCurrentDate();
        
        // Inicializar sistema de áudio
        AUDIO_SYSTEM.init();
        
        // Animações de entrada
        const sections = document.querySelectorAll('.fade-in');
        sections.forEach((section, index) => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            setTimeout(() => {
                section.style.transition = 'opacity 0.4s ease, transform 0.4s ease';
                section.style.opacity = '1';
                section.style.transform = 'translateY(0)';
            }, 50 + (index * 80));
        });
        
        setInterval(updateCurrentDate, 60000);
    }
    
    // ========== SISTEMA DE ESTRELAS ==========
    function createStars(containerId, count) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        const fragment = document.createDocumentFragment();
        
        for (let i = 0; i < count; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 3 + 1;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.top = `${Math.random() * 100}%`;
            star.style.left = `${Math.random() * 100}%`;
            star.style.animationDelay = `${Math.random() * 3}s`;
            star.style.opacity = Math.random() * 0.7 + 0.3;
            star.style.animationDuration = `${1 + Math.random() * 2}s`;
            fragment.appendChild(star);
        }
        
        container.appendChild(fragment);
    }
    
    // ========== CALENDÁRIO ==========
    function generateWeekCalendar() {
        const weekCalendar = document.getElementById('week-calendar');
        if (!weekCalendar) return;
        
        weekCalendar.innerHTML = '';
        
        const daysOfWeek = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'];
        daysOfWeek.forEach(day => {
            const dayHeader = document.createElement('div');
            dayHeader.className = 'day-header';
            dayHeader.textContent = day;
            weekCalendar.appendChild(dayHeader);
        });
        
        const today = new Date();
        const currentDay = today.getDay();
        
        const startDate = new Date(today);
        startDate.setDate(today.getDate() - currentDay);
        
        // Carregar dados salvos do calendário
        const savedData = JSON.parse(localStorage.getItem('sleepCalendarData')) || {};
        
        for (let i = 0; i < 7; i++) {
            const currentDate = new Date(startDate);
            currentDate.setDate(startDate.getDate() + i);
            const dateKey = currentDate.toDateString();
            
            const dayContainer = document.createElement('div');
            dayContainer.className = 'day-container';
            
            const dayEmoji = document.createElement('div');
            dayEmoji.className = 'day-emoji';
            dayEmoji.id = `emoji-${i}`;
            
            // Verificar se existe dado salvo para este dia
            if (savedData[dateKey]) {
                dayEmoji.textContent = savedData[dateKey].emoji;
                dayEmoji.classList.add('selected');
            } else {
                dayEmoji.textContent = '○';
            }
            
            const dayNumber = document.createElement('div');
            dayNumber.className = 'day-number';
            dayNumber.textContent = currentDate.getDate();
            
            if (currentDate.toDateString() === today.toDateString()) {
                dayNumber.classList.add('today');
                dayNumber.setAttribute('data-today', 'true');
            }
            
            if (currentDate.toDateString() !== today.toDateString()) {
                dayNumber.style.cursor = 'default';
                dayNumber.style.opacity = '0.6';
            }
            
            dayContainer.appendChild(dayEmoji);
            dayContainer.appendChild(dayNumber);
            weekCalendar.appendChild(dayContainer);
        }
    }
    
    // ========== OPÇÕES DE SONO ==========
    function setupSleepOptions() {
        const sleepOptions = document.querySelectorAll('.sleep-option');
        const sleepTips = document.getElementById('sleep-tips');
        const tipsList = document.getElementById('tips-list');
        
        const lastSelectionDate = localStorage.getItem('lastSleepSelectionDate');
        const today = new Date().toDateString();
        
        if (lastSelectionDate === today) {
            STATE.hasSelectedToday = true;
            sleepOptions.forEach(opt => opt.classList.add('disabled'));
        }
        
        sleepOptions.forEach(option => {
            option.addEventListener('click', function() {
                if (STATE.hasSelectedToday) {
                    alert("Você já registrou seu sono hoje. Volte amanhã para um novo registro!");
                    return;
                }
                
                sleepOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                
                const level = this.getAttribute('data-level');
                const emoji = this.getAttribute('data-emoji');
                
                // Salvar data da seleção
                localStorage.setItem('lastSleepSelectionDate', today);
                localStorage.setItem('lastSleepSelectionLevel', level);
                STATE.hasSelectedToday = true;
                
                // Atualizar emoji no calendário
                const todayEmoji = document.querySelector('.day-number[data-today="true"]')?.parentElement?.querySelector('.day-emoji');
                if (todayEmoji) {
                    todayEmoji.textContent = emoji;
                    todayEmoji.classList.add('selected');
                    todayEmoji.style.animation = 'pulse 0.5s ease';
                    setTimeout(() => todayEmoji.style.animation = '', 500);
                    
                    // Salvar no localStorage
                    const sleepCalendarData = JSON.parse(localStorage.getItem('sleepCalendarData')) || {};
                    sleepCalendarData[today] = {
                        emoji: emoji,
                        level: level,
                        date: today
                    };
                    localStorage.setItem('sleepCalendarData', JSON.stringify(sleepCalendarData));
                }
                
                sleepOptions.forEach(opt => opt.classList.add('disabled'));
                
                showTips(level);
            });
        });
        
        function showTips(level) {
            tipsList.innerHTML = '';
            const allTips = CONFIG.tipsByLevel[level];
            const shuffledTips = [...allTips].sort(() => Math.random() - 0.5);
            const selectedTips = shuffledTips.slice(0, 2);
            
            selectedTips.forEach(tip => {
                const li = document.createElement('li');
                li.className = 'tip-item';
                li.textContent = tip;
                tipsList.appendChild(li);
            });
            
            sleepTips.classList.add('active');
        }
    }
    
    // ========== PROTOCOLO 7 ==========
    function setupChallenge() {
        const challengeDaysContainer = document.getElementById('challenge-days');
        const missionModal = document.getElementById('mission-modal');
        const closeMission = document.getElementById('close-mission');
        const acceptMission = document.getElementById('accept-mission');
        const declineMission = document.getElementById('decline-mission');
        
        const acceptanceModal = document.getElementById('acceptance-modal');
        const closeAcceptance = document.getElementById('close-acceptance');
        const acceptanceOk = document.getElementById('acceptance-ok');
        
        const completionModal = document.getElementById('completion-modal');
        const closeCompletion = document.getElementById('close-completion');
        const completionOk = document.getElementById('completion-ok');
        
        // RESETAR PROTOCOLO 7 PARA O DIA 1
        // Limpar qualquer dado salvo anteriormente
        localStorage.removeItem('sleepChallenge');
        
        // Inicializar estado do desafio SEMPRE no DIA 1
        const savedChallenge = {
            currentDay: 1, // SEMPRE DIA 1
            completedDays: [],
            startDates: {},
            lastAcceptanceDate: null,
            playerName: "Jogador"
        };
        
        STATE.challenge = savedChallenge;
        
        // Salvar estado resetado
        localStorage.setItem('sleepChallenge', JSON.stringify(savedChallenge));
        
        challengeDaysContainer.innerHTML = '';
        
        for (let i = 1; i <= 7; i++) {
            const dayDiv = document.createElement('div');
            dayDiv.className = 'challenge-day';
            dayDiv.setAttribute('data-day', i);
            
            // SEMPRE mostrar o dia 1 como ativo, os outros como bloqueados
            const isCompleted = STATE.challenge.completedDays.includes(i);
            const isCurrent = i === 1; // SEMPRE dia 1 é o atual
            const isLocked = i > 1; // Todos os outros dias bloqueados
            
            if (isCompleted) {
                dayDiv.classList.add('completed');
            } else if (isCurrent) {
                dayDiv.classList.add('active');
            } else if (isLocked) {
                dayDiv.classList.add('locked');
            }
            
            const dayNumberCircle = document.createElement('div');
            dayNumberCircle.className = 'day-number-circle';
            dayNumberCircle.textContent = i;
            
            const dayTitle = document.createElement('div');
            dayTitle.className = 'day-title';
            dayTitle.textContent = `Dia ${i}`;
            
            const dayLevel = document.createElement('div');
            dayLevel.className = 'day-level';
            const level = CONFIG.challengeMissions[i-1].level;
            dayLevel.textContent = `Nível ${level}`;
            
            if (isLocked) {
                const lockedIcon = document.createElement('div');
                lockedIcon.className = 'locked-icon';
                lockedIcon.textContent = '🔒';
                dayDiv.appendChild(lockedIcon);
            } else if (isCompleted) {
                const completedIcon = document.createElement('div');
                completedIcon.className = 'completed-icon';
                completedIcon.textContent = '✅';
                dayDiv.appendChild(completedIcon);
            }
            
            dayDiv.appendChild(dayNumberCircle);
            dayDiv.appendChild(dayTitle);
            dayDiv.appendChild(dayLevel);
            
            if (isCurrent) {
                dayDiv.addEventListener('click', function() {
                    const day = parseInt(this.getAttribute('data-day'));
                    showMissionModal(day);
                });
            } else if (isCompleted && i === STATE.challenge.completedDays[STATE.challenge.completedDays.length - 1]) {
                dayDiv.addEventListener('click', function() {
                    const day = parseInt(this.getAttribute('data-day'));
                    showCompletedMissionModal(day);
                });
            } else if (isCompleted) {
                dayDiv.style.cursor = 'default';
            }
            
            challengeDaysContainer.appendChild(dayDiv);
        }
        
        closeMission.addEventListener('click', function() {
            missionModal.classList.remove('active');
        });
        
        declineMission.addEventListener('click', function() {
            missionModal.classList.remove('active');
        });
        
        acceptMission.addEventListener('click', function() {
            const day = STATE.challenge.currentMission;
            if (day) {
                STATE.challenge.lastAcceptanceDate = new Date().toISOString();
                
                if (!STATE.challenge.startDates[day]) {
                    STATE.challenge.startDates[day] = new Date().toISOString();
                }
                
                // Salvar estado do desafio
                localStorage.setItem('sleepChallenge', JSON.stringify(STATE.challenge));
                
                missionModal.classList.remove('active');
                showAcceptanceModal(day, false);
            }
        });
        
        closeAcceptance.addEventListener('click', function() {
            acceptanceModal.classList.remove('active');
        });
        
        acceptanceOk.addEventListener('click', function() {
            acceptanceModal.classList.remove('active');
            setupChallenge(); // Recarregar o desafio
        });
        
        closeCompletion.addEventListener('click', function() {
            completionModal.classList.remove('active');
        });
        
        completionOk.addEventListener('click', function() {
            completionModal.classList.remove('active');
        });
        
        [missionModal, acceptanceModal, completionModal].forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });
        
        function showMissionModal(day) {
            const mission = CONFIG.challengeMissions[day-1];
            STATE.challenge.currentMission = day;
            
            document.getElementById('mission-title').textContent = mission.title;
            document.getElementById('mission-level').textContent = `Nível ${mission.level}`;
            document.getElementById('mission-description').textContent = mission.description;
            
            missionModal.classList.add('active');
        }
        
        function showCompletedMissionModal(day) {
            if (day === 7 && STATE.challenge.completedDays.includes(7)) {
                showCompletionModal();
                return;
            }
            
            const mission = CONFIG.challengeMissions[day-1];
            document.getElementById('acceptance-text').textContent = 
                `Você já completou a missão do dia ${day}. Aguarde o próximo dia para continuar o Protocolo 7! 😉`;
            acceptanceModal.classList.add('active');
        }
        
        function showAcceptanceModal(day, isCompletion) {
            const mission = CONFIG.challengeMissions[day-1];
            
            if (isCompletion && day > 1) {
                const prevMission = CONFIG.challengeMissions[day-2];
                document.getElementById('acceptance-text').textContent = 
                    `Parabéns por concluir o desafio do dia ${day-1}, ${STATE.challenge.playerName}! Sabia que você conseguiria! Agora você é ${prevMission.rank}. 😉 Quer participar da missão dia: ${day}?`;
                
                if (!STATE.challenge.completedDays.includes(day-1)) {
                    STATE.challenge.completedDays.push(day-1);
                    localStorage.setItem('sleepChallenge', JSON.stringify(STATE.challenge));
                }
                
                setTimeout(() => {
                    acceptanceModal.classList.remove('active');
                    showMissionModal(day);
                }, 1500);
            } else if (day === 7 && isCompletion) {
                showCompletionModal();
                return;
            } else {
                document.getElementById('acceptance-text').textContent = 
                    `Ótimo! Agora você é oficialmente um ${mission.rank}. ${STATE.challenge.playerName}, você aceitou a missão e tem essa noite para concluir o desafio: ${mission.description}`;
            }
            
            acceptanceModal.classList.add('active');
        }
        
        function showCompletionModal() {
            if (!STATE.challenge.completedDays.includes(7)) {
                STATE.challenge.completedDays.push(7);
                localStorage.setItem('sleepChallenge', JSON.stringify(STATE.challenge));
            }
            
            const completionText = document.getElementById('completion-text');
            const message = `SdS: meus parabéns, ${STATE.challenge.playerName}.<br><br>
            Parabéns por alcançar o rank: <strong>Imperador</strong>.


Se você está ouvindo isso agora, é porque fez algo que a maioria das pessoas não faz: continuou.


Durante sete noites, você voltou. Mesmo cansado. Mesmo desconfiado. Mesmo achando que talvez não fizesse tanta diferença. E ainda assim, você esteve aqui. Não por obrigação, não por promessa milagrosa — mas por compromisso.


O Protocolo 7 não foi criado para te impressionar.

Ele foi criado para te provar algo simples e poderoso: você consegue sustentar uma mudança quando respeita o próprio ritmo.


Cada missão, cada nível, não era sobre dificuldade. Era sobre presença. Sobre ensinar seu corpo e sua mente a desacelerarem juntos. A confiar novamente no descanso. A lembrar que o sono não é uma fuga — é uma reconstrução silenciosa.


Talvez você não tenha percebido no primeiro dia.

Talvez nem no terceiro.

Mas algo mudou.


Mudou a forma como você encara a noite.

Mudou a forma como você responde ao silêncio.

Mudou a forma como você entende o cansaço.


E isso não veio da Nívora.

Veio de você.


A Nívora só organizou o caminho.

Você foi quem caminhou.


A partir de hoje, você não "tenta dormir melhor".

Você sabe o que funciona para você.

Você criou um padrão. Um ritmo. Um fluxo.


E esse é o verdadeiro encerramento do Protocolo 7:

não o fim de um desafio,

mas o início de uma relação mais honesta com o seu descanso.


Obrigado por confiar.

Obrigado por cumprir.

Obrigado por não desistir de si mesmo.


Quando quiser, a noite ainda estará aqui.

E nós também.`;
            completionText.innerHTML = message;
            completionText.style.opacity = '1';
            
            const text = completionText.textContent;
            completionText.textContent = '';
            let i = 0;
            const speed = 20;
            
            function typeWriter() {
                if (i < text.length) {
                    completionText.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, speed);
                }
            }
            
            completionModal.classList.add('active');
            setTimeout(typeWriter, 500);
        }
    }
    
    // ========== FLUXO NÍVORA COM CORREÇÃO DO DESPAUSAR ==========
    function setupBreathingGuide() {
        const timeSelection = document.getElementById('time-selection');
        const startBtn = document.getElementById('start-breathing-btn');
        const breathingControls = document.getElementById('breathing-controls');
        const controlStart = document.getElementById('start-breathing');
        const controlPause = document.getElementById('pause-breathing');
        const controlReset = document.getElementById('reset-breathing');
        const breathingDisplay = document.getElementById('breathing-display');
        const breathingPhase = document.getElementById('breathing-phase');
        const breathingInstruction = document.getElementById('breathing-instruction');
        const breathingTimer = document.getElementById('breathing-timer');
        const progressFill = document.getElementById('progress-fill');
        const timeRemaining = document.getElementById('time-remaining');
        const breathingInstructionSd = document.getElementById('breathing-instruction-sd');
        
        const timeOptions = document.querySelectorAll('.time-option');
        
        timeOptions.forEach(option => {
            option.addEventListener('click', function() {
                timeOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                STATE.breathing.selectedTime = parseInt(this.getAttribute('data-time'));
            });
        });
        
        startBtn.addEventListener('click', function() {
            this.style.display = 'none';
            timeSelection.style.display = 'none';
            breathingControls.style.display = 'block';
            breathingInstructionSd.style.display = 'block';
            STATE.breathing.isActive = true;
        });
        
        controlStart.addEventListener('click', startBreathing);
        controlPause.addEventListener('click', togglePauseBreathing);
        controlReset.addEventListener('click', resetBreathing);
        
        function startBreathing() {
            if (STATE.breathing.isRunning && !STATE.breathing.isPaused) return;
            
            if (!STATE.breathing.isRunning) {
                STATE.breathing.totalTime = STATE.breathing.selectedTime;
                STATE.breathing.remainingTime = STATE.breathing.totalTime;
                STATE.breathing.currentCycleIndex = 0;
                STATE.breathing.cycleElapsed = 0;
                STATE.breathing.currentCycleTime = CONFIG.breathingCycle[0].duration;
                breathingDisplay.classList.add('active');
                
                updateDisplay(CONFIG.breathingCycle[0]);
            }
            
            STATE.breathing.isRunning = true;
            STATE.breathing.isPaused = false;
            
            controlStart.disabled = true;
            controlPause.disabled = false;
            controlReset.disabled = false;
            controlPause.innerHTML = '<span>⏸️</span> Pausar';
            
            STATE.breathing.timerInterval = setInterval(() => {
                STATE.breathing.remainingTime--;
                STATE.breathing.cycleElapsed++;
                
                const progressPercent = ((STATE.breathing.totalTime - STATE.breathing.remainingTime) / STATE.breathing.totalTime) * 100;
                progressFill.style.width = `${progressPercent}%`;
                
                const minutes = Math.floor(STATE.breathing.remainingTime / 60);
                const seconds = STATE.breathing.remainingTime % 60;
                timeRemaining.textContent = `Tempo restante: ${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                // Atualizar o timer do ciclo atual
                const remainingCycleTime = STATE.breathing.currentCycleTime - STATE.breathing.cycleElapsed;
                breathingTimer.textContent = Math.max(0, remainingCycleTime).toString();
                
                // Verificar se precisa mudar de ciclo
                if (STATE.breathing.cycleElapsed >= STATE.breathing.currentCycleTime) {
                    STATE.breathing.currentCycleIndex = (STATE.breathing.currentCycleIndex + 1) % CONFIG.breathingCycle.length;
                    STATE.breathing.cycleElapsed = 0;
                    STATE.breathing.currentCycleTime = CONFIG.breathingCycle[STATE.breathing.currentCycleIndex].duration;
                    updateDisplay(CONFIG.breathingCycle[STATE.breathing.currentCycleIndex]);
                }
                
                if (STATE.breathing.remainingTime <= 0) completeBreathing();
            }, 1000);
        }
        
        function togglePauseBreathing() {
            if (!STATE.breathing.isRunning) return;
            
            if (!STATE.breathing.isPaused) {
                // Pausar
                clearInterval(STATE.breathing.timerInterval);
                STATE.breathing.isPaused = true;
                controlPause.innerHTML = '<span>▶️</span> Despausar';
            } else {
                // Despausar
                STATE.breathing.isPaused = false;
                controlPause.innerHTML = '<span>⏸️</span> Pausar';
                
                // Continuar o cronômetro com TODOS os ciclos funcionando
                STATE.breathing.timerInterval = setInterval(() => {
                    STATE.breathing.remainingTime--;
                    STATE.breathing.cycleElapsed++;
                    
                    const progressPercent = ((STATE.breathing.totalTime - STATE.breathing.remainingTime) / STATE.breathing.totalTime) * 100;
                    progressFill.style.width = `${progressPercent}%`;
                    
                    const minutes = Math.floor(STATE.breathing.remainingTime / 60);
                    const seconds = STATE.breathing.remainingTime % 60;
                    timeRemaining.textContent = `Tempo restante: ${minutes}:${seconds.toString().padStart(2, '0')}`;
                    
                    // Atualizar o timer do ciclo atual
                    const remainingCycleTime = STATE.breathing.currentCycleTime - STATE.breathing.cycleElapsed;
                    breathingTimer.textContent = Math.max(0, remainingCycleTime).toString();
                    
                    // Verificar se precisa mudar de ciclo
                    if (STATE.breathing.cycleElapsed >= STATE.breathing.currentCycleTime) {
                        STATE.breathing.currentCycleIndex = (STATE.breathing.currentCycleIndex + 1) % CONFIG.breathingCycle.length;
                        STATE.breathing.cycleElapsed = 0;
                        STATE.breathing.currentCycleTime = CONFIG.breathingCycle[STATE.breathing.currentCycleIndex].duration;
                        updateDisplay(CONFIG.breathingCycle[STATE.breathing.currentCycleIndex]);
                    }
                    
                    if (STATE.breathing.remainingTime <= 0) completeBreathing();
                }, 1000);
            }
        }
        
        function resetBreathing() {
            clearInterval(STATE.breathing.timerInterval);
            STATE.breathing.isRunning = false;
            STATE.breathing.isPaused = false;
            STATE.breathing.isActive = false;
            STATE.breathing.currentCycleIndex = 0;
            STATE.breathing.cycleElapsed = 0;
            STATE.breathing.currentCycleTime = 0;
            
            controlStart.disabled = false;
            controlPause.disabled = true;
            controlReset.disabled = true;
            controlPause.innerHTML = '<span>⏸️</span> Pausar';
            
            breathingDisplay.classList.remove('active');
            breathingPhase.textContent = "Prepare-se";
            breathingInstruction.textContent = "Respire naturalmente";
            breathingTimer.textContent = "--";
            progressFill.style.width = "0%";
            timeRemaining.textContent = "Tempo restante: --";
            
            timeSelection.style.display = 'grid';
            breathingControls.style.display = 'none';
            breathingInstructionSd.style.display = 'none';
            startBtn.style.display = 'block';
        }
        
        function completeBreathing() {
            clearInterval(STATE.breathing.timerInterval);
            STATE.breathing.isRunning = false;
            
            breathingPhase.textContent = "Completo!";
            breathingInstruction.textContent = "Sessão concluída";
            breathingTimer.textContent = "✓";
            breathingTimer.style.color = "var(--success)";
            progressFill.style.width = "100%";
            timeRemaining.textContent = "Sessão concluída com sucesso!";
            
            setTimeout(() => {
                resetBreathing();
            }, 3000);
        }
        
        function updateDisplay(cycle) {
            breathingPhase.textContent = cycle.phase;
            breathingInstruction.textContent = cycle.instruction;
            breathingTimer.textContent = cycle.duration.toString();
            breathingTimer.style.color = "var(--light)";
        }
    }
    
    // ========== ATUALIZAÇÃO DA DATA ==========
    function updateCurrentDate() {
        STATE.currentDate = new Date();
        
        const lastCheck = localStorage.getItem('lastDateCheck');
        const today = STATE.currentDate.toDateString();
        
        if (lastCheck !== today) {
            localStorage.setItem('lastDateCheck', today);
            
            STATE.hasSelectedToday = false;
            localStorage.removeItem('lastSleepSelectionDate');
            localStorage.removeItem('lastSleepSelectionLevel');
            
            const sleepOptions = document.querySelectorAll('.sleep-option');
            sleepOptions.forEach(opt => {
                opt.classList.remove('disabled');
                opt.classList.remove('selected');
            });
            
            const sleepTips = document.getElementById('sleep-tips');
            sleepTips.classList.remove('active');
            
            generateWeekCalendar();
            // Não recarregar o setupChallenge para manter o Protocolo 7 sempre no dia 1
        }
    }
</script>            </div>
            
            <!-- ========== PÁGINA GERAL ========== -->
            <div class="page" id="page-geral">
<div class="stars" id="stars-geral"></div>
<header>
    <div class="logo">GERAL 🌙</div>
</header>

<section class="hero" id="home">
    <h1>Página de Informações Adicionais</h1>
    <div class="hero-description">
        <p>Explore todas as funcionalidades, políticas e recursos da nossa plataforma. Aqui você encontra informações essenciais sobre privacidade, contato, feedback e muito mais. Tudo organizado de forma clara e acessível para sua melhor experiência.</p>
    </div>
</section>

<!-- SEÇÃO SOBRE NÓS -->
<section class="section" id="about">
    <div class="container">
        <h2>🔍 Sobre Nós</h2>
        <div class="about-content">
            <p class="about-summary">
                Nossa plataforma nasceu da necessidade urgente de combater a epidemia de problemas de sono que afeta milhões de pessoas em todo o mundo. 🌍 Fundado por especialistas em neurociência e medicina do sono, nosso projeto tem como missão principal democratizar o acesso a informações científicas sobre qualidade do sono.
            </p>
            
            <div class="read-more-text" id="read-more-text">
                Nossa equipe é composta por pesquisadores, médicos e desenvolvedores que acreditam que uma boa noite de sono é fundamental para a saúde física, mental e emocional. 💡 Trabalhamos incansavelmente para transformar complexas pesquisas acadêmicas em orientações práticas e acessíveis para todos.
                <br><br>
                O que nos diferencia é o compromisso com a ciência. 🧪 Todas as técnicas e recomendações disponíveis em nossa plataforma são baseadas em estudos revisados por pares e validadas por instituições de renome no campo da medicina do sono. Rejeitamos mitos e soluções milagrosas, focando apenas no que realmente funciona de acordo com as evidências científicas.
                <br><br>
                Acreditamos que cada pessoa merece acordar revigorada e pronta para enfrentar os desafios do dia. ⚡ Por isso, desenvolvemos métodos personalizados que consideram as particularidades de cada indivíduo - desde rotinas noturnas até ajustes ambientais que fazem toda a diferença na qualidade do descanso.
                <br><br>
                Nossa visão é criar um mundo onde problemas como insônia, apneia do sono e distúrbios do ritmo circadiano sejam coisas do passado. 🎯 Estamos constantemente atualizando nosso conhecimento e expandindo nossos serviços para oferecer sempre o que há de mais moderno e eficaz em termos de saúde do sono.
            </div>
            
            <button class="read-more-btn" id="read-more-btn" onclick="toggleReadMore()">
                <strong>ler mais ...</strong>
            </button>
        </div>
    </div>
</section>

<!-- SEÇÃO DE POLÍTICA DE PRIVACIDADE -->
<section class="section" id="privacy">
    <div class="container">
        <h2>🔒 Política de Privacidade</h2>
        <div class="privacy-content">
            <div class="privacy-item">
                <h3>📋 Coleta de Informações</h3>
                <p>Coletamos apenas informações necessárias para personalizar seu plano de sono: idade e hábitos de sono. Não solicitamos dados sensíveis. Todas as informações são tratadas com total confidencialidade e segurança.</p>
            </div>
            
            <div class="privacy-item">
                <h3>🔍 Uso dos Dados</h3>
                <p>Seus dados são utilizados exclusivamente para gerar recomendações personalizadas de sono. Não compartilhamos informações com terceiros. Os dados de quiz são processados localmente no seu navegador para sua privacidade.</p>
            </div>
            
            <div class="privacy-item">
                <h3>💾 Armazenamento</h3>
                <p>As informações são armazenadas de forma segura em servidores protegidos com criptografia SSL. Implementamos medidas técnicas avançadas para garantir a segurança dos dados contra acessos não autorizados.</p>
            </div>
            
            <div class="privacy-item">
                <h3>🍪 Cookies</h3>
                <p>Utilizamos cookies apenas para melhorar sua experiência de navegação e analisar o tráfego do site. Você pode desativá-los nas configurações do seu navegador. Não utilizamos cookies de terceiros para publicidade.</p>
            </div>
        </div>
    </div>
</section>

<!-- NOVA SEÇÃO: TERMOS DE USO -->
<section class="section" id="terms">
    <div class="container">
        <h2>📜 Termos de Uso</h2>
        <div class="terms-content">
            <div class="terms-item">
                <h3>📋 Aceitação dos Termos</h3>
                <p>Ao acessar e usar esta plataforma, você concorda em cumprir estes Termos de Uso. Se não concordar com alguma parte, recomendamos que não utilize nossos serviços.</p>
            </div>
            
            <div class="terms-item">
                <h3>⚖️ Uso Adequado</h3>
                <p>Você concorda em usar nossa plataforma apenas para fins legítimos e de acordo com todas as leis aplicáveis. É proibido qualquer uso que possa danificar, desabilitar ou prejudicar nossos serviços.</p>
            </div>
            
            <div class="terms-item">
                <h3>🧪 Propósito Educacional</h3>
                <p>Esta plataforma fornece informações educacionais sobre saúde do sono. Não substitui aconselhamento médico profissional. Consulte sempre um profissional de saúde para diagnósticos e tratamentos específicos.</p>
            </div>
            
            <div class="terms-item">
                <h3>📝 Modificações</h3>
                <p>Reservamo-nos o direito de modificar estes Termos a qualquer momento. Alterações significativas serão notificadas através da plataforma. O uso continuado constitui aceitação das mudanças.</p>
            </div>
        </div>
    </div>
</section>

<!-- SEÇÃO DE CONTATO -->
<section class="section" id="contact">
    <div class="container">
        <h2>📧 Contato</h2>
        <div class="contact-content">
            <div class="contact-info">
                <h3>Entre em Contato Conosco</h3>
                <p>Para dúvidas, sugestões ou questões sobre privacidade:</p>
                
                <a href="mailto:nivorasuporte@gmail.com" class="contact-email">
                    nivorasuporte@gmail.com
                </a>
                
                <p class="contact-description">
                    Respondemos todas as mensagens em até 48 horas úteis. Sua privacidade é nossa prioridade.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- SEÇÃO DE FEEDBACK -->
<section class="section" id="feedback">
    <div class="container">
        <h2>📤 Feedback</h2>
        <div class="feedback-form">
            <div class="rating-section">
                <h3>Como você avalia sua experiência ⭐⭐⭐⭐⭐</h3>
                <div class="stars-rating-input">
                    <span class="star-input" data-rating="1">★</span>
                    <span class="star-input" data-rating="2">★</span>
                    <span class="star-input" data-rating="3">★</span>
                    <span class="star-input" data-rating="4">★</span>
                    <span class="star-input" data-rating="5">★</span>
                </div>
                <div class="rating-text" id="rating-text">Selecione uma avaliação</div>
            </div>
            
            <div class="comment-section">
                <h3>Compartilhe sua experiência (até 100 caracteres)</h3>
                <textarea 
                    id="feedback-comment" 
                    placeholder="Escreva como nossa plataforma ajudou você..."
                    maxlength="100"
                ></textarea>
                <div class="char-count">
                    <span id="char-count">0</span>/100 caracteres
                </div>
            </div>
            
            <div class="name-section">
                <h3>Qual seu nome? (opcional)</h3>
                <input type="text" id="feedback-name" placeholder="Seu nome ou apelido">
            </div>
            
            <button class="feedback-button" onclick="submitFeedback()">
                Enviar Feedback
            </button>
        </div>
    </div>
</section>

<!-- SEÇÃO DE COMPARTILHAMENTO COM IMAGENS -->
<section class="section" id="share">
    <div class="container">
        <h2>👥 Compartilhe com um Amigo</h2>
        
        <div class="share-minimal">
            <p class="share-title">Compartilhe nossa plataforma com amigos e familiares:</p>
            
            <div class="share-grid">
                <!-- WhatsApp -->
                <a href="https://api.whatsapp.com/send?text=Descubra como melhorar seu sono com ciência! Visite: https://nivoora.github.io" 
                   target="_blank" class="share-btn">
                    <div class="share-item">
                        <img src="https://i.postimg.cc/wx0JjmCH/lv-0-20260110030922.png" 
                             alt="WhatsApp" 
                             class="share-icon-img"
                             onerror="this.src='https://cdn-icons-png.flaticon.com/512/1384/1384023.png'">
                        <div class="share-name">WhatsApp</div>
                    </div>
                </a>
                
                <!-- Instagram -->
                <a href="https://www.instagram.com/" 
                   target="_blank" class="share-btn">
                    <div class="share-item">
                        <img src="https://i.postimg.cc/Bn11pwXs/lv-0-20260110031004.png" 
                             alt="Instagram" 
                             class="share-icon-img"
                             onerror="this.src='https://cdn-icons-png.flaticon.com/512/1384/1384031.png'">
                        <div class="share-name">Instagram</div>
                    </div>
                </a>
                
                <!-- Facebook -->
                <a href="https://www.facebook.com/sharer/sharer.php?u=https://nivoora.github.io" 
                   target="_blank" class="share-btn">
                    <div class="share-item">
                        <img src="https://i.postimg.cc/6Qr4J2Vp/lv-0-20260110031030.png" 
                             alt="Facebook" 
                             class="share-icon-img"
                             onerror="this.src='https://cdn-icons-png.flaticon.com/512/1384/1384005.png'">
                        <div class="share-name">Facebook</div>
                    </div>
                </a>
                
                <!-- Telegram -->
                <a href="https://t.me/share/url?url=https://nivoora.github.io&text=Descubra como melhorar seu sono com ciência!" 
                   target="_blank" class="share-btn">
                    <div class="share-item">
                        <img src="https://i.postimg.cc/Vv6JCKxS/lv-0-20260110031127.png" 
                             alt="Telegram" 
                             class="share-icon-img"
                             onerror="this.src='https://cdn-icons-png.flaticon.com/512/2111/2111646.png'">
                        <div class="share-name">Telegram</div>
                    </div>
                </a>
                
                <!-- Twitter/X -->
                <a href="https://twitter.com/intent/tweet?text=Descubra como melhorar seu sono com ciência!&url=https://nivoora.github.io" 
                   target="_blank" class="share-btn">
                    <div class="share-item">
                        <img src="https://i.postimg.cc/TYKy2Hjb/lv-0-20260110031059.png" 
                             alt="Twitter/X" 
                             class="share-icon-img"
                             onerror="this.src='https://cdn-icons-png.flaticon.com/512/733/733579.png'">
                        <div class="share-name">Twitter/X</div>
                    </div>
                </a>
                
                <!-- Copiar Link -->
                <button class="copy-btn" onclick="copyLinkToClipboard()">
                    <div class="share-item">
                        <img src="https://i.postimg.cc/k5mDcMr3/lv-0-20260110031158.png" 
                             alt="Copiar Link" 
                             class="share-icon-img"
                             onerror="this.src='https://cdn-icons-png.flaticon.com/512/126/126498.png'">
                        <div class="share-name">Copiar Link</div>
                    </div>
                </button>
            </div>
            
            <div class="copy-message" id="copy-message">
                ✅ Link copiado para a área de transferência!
            </div>
        </div>
    </div>
</section>

<div class="feedback-toast" id="feedback-toast">
    <div class="toast-content">
        <span class="toast-icon">✅</span>
        <span class="toast-text">Feedback enviado com sucesso!</span>
    </div>
</div>

<!-- FOOTER REMOVIDO DA PÁGINA GERAL -->

<script>
    // FEEDBACK SYSTEM
    let selectedRating = 0;

    // Estrelas do feedback
    const stars = document.querySelectorAll('.star-input');
    stars.forEach((star) => {
        star.addEventListener('click', function() {
            selectedRating = parseInt(this.getAttribute('data-rating'));
            stars.forEach((s, i) => {
                if (i < selectedRating) {
                    s.classList.add('active');
                } else {
                    s.classList.remove('active');
                }
            });
            
            const ratingTexts = [
                'Selecione uma avaliação',
                'Péssimo',
                'Ruim', 
                'Regular',
                'Bom',
                'Excelente'
            ];
            document.getElementById('rating-text').textContent = ratingTexts[selectedRating];
        });
    });

    // Contador de caracteres do feedback
    const commentField = document.getElementById('feedback-comment');
    const charCount = document.getElementById('char-count');
    if (commentField && charCount) {
        commentField.addEventListener('input', function() {
            charCount.textContent = this.value.length;
        });
    }

    function submitFeedback() {
        if (selectedRating === 0) {
            alert('Por favor, selecione uma avaliação com as estrelas.');
            return;
        }
        
        const name = document.getElementById('feedback-name').value;
        const comment = document.getElementById('feedback-comment').value;
        
        const toast = document.getElementById('feedback-toast');
        toast.classList.add('show');
        
        // Resetar formulário
        selectedRating = 0;
        document.querySelectorAll('.star-input').forEach(star => {
            star.classList.remove('active');
        });
        document.getElementById('rating-text').textContent = 'Selecione uma avaliação';
        document.getElementById('feedback-name').value = '';
        document.getElementById('feedback-comment').value = '';
        document.getElementById('char-count').textContent = '0';
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // FUNÇÃO PARA LER MAIS/MENOS COM SCROLL MAIS SUAVE
    let isExpanded = false;
    
    function toggleReadMore() {
        const readMoreText = document.getElementById('read-more-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        
        if (!isExpanded) {
            // Expandir
            readMoreText.classList.add('show');
            readMoreBtn.innerHTML = '<strong>ler menos ...</strong>';
            isExpanded = true;
            
            // SCROLL MAIS SUAVE E RÁPIDO (corrigido)
            setTimeout(() => {
                // Scroll para mostrar todo o conteúdo expandido
                const targetPosition = readMoreBtn.getBoundingClientRect().top + window.pageYOffset - 150;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth',
                    duration: 400 // Mais rápido
                });
            }, 50); // Delay menor para resposta mais rápida
            
        } else {
            // Recolher
            readMoreText.classList.remove('show');
            readMoreBtn.innerHTML = '<strong>ler mais ...</strong>';
            isExpanded = false;
            
            // SCROLL MAIS SUAVE E RÁPIDO PARA CIMA
            setTimeout(() => {
                const aboutSection = document.getElementById('about');
                
                window.scrollTo({
                    top: aboutSection.offsetTop - 80,
                    behavior: 'smooth',
                    duration: 400 // Mais rápido
                });
            }, 50); // Delay menor
        }
    }

    // FUNÇÃO PARA COPIAR LINK
    function copyLinkToClipboard() {
        const siteUrl = "https://nivoora.github.io";
        navigator.clipboard.writeText(siteUrl).then(() => {
            const message = document.getElementById('copy-message');
            message.classList.add('show');
            
            setTimeout(() => {
                message.classList.remove('show');
            }, 3000);
        }).catch(err => {
            console.error('Erro ao copiar link: ', err);
            alert('Não foi possível copiar o link. Tente manualmente: ' + siteUrl);
        });
    }

    // Smooth scrolling para todos os links internos
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                e.preventDefault();
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Animação ao carregar
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
            document.querySelectorAll('.section').forEach((section, index) => {
                section.style.animationDelay = `${index * 0.2}s`;
            });
        }, 100);
    });
</script>            </div>
            
        </div>
    </div>
    
    <!-- ========== MENU INFERIOR ========== -->
    <nav class="bottom-nav" id="bottom-nav">
        <a href="javascript:void(0)" class="nav-item active" onclick="NAV.goToPage(0)">
            <div class="nav-icon">⌂</div>
            <div class="nav-label">Início</div>
        </a>
        <a href="javascript:void(0)" class="nav-item" onclick="NAV.goToPage(1)">
            <div class="nav-icon">◯</div>
            <div class="nav-label">SdS</div>
        </a>
        <a href="javascript:void(0)" class="nav-item" onclick="NAV.goToPage(2)">
            <div class="nav-icon">⌕</div>
            <div class="nav-label">Geral</div>
        </a>
    </nav>
    
    <script>
        var NAV = {
            currentPage: 0,
            goToPage: function(index) {
                var pages = [
                    document.getElementById('page-inicio'),
                    document.getElementById('page-sds'),
                    document.getElementById('page-geral')
                ];
                pages.forEach(function(page, i) {
                    if (page) {
                        page.style.display = i === index ? 'block' : 'none';
                        if (i === index) {
                            page.classList.add('active');
                            page.scrollTop = 0;
                        } else {
                            page.classList.remove('active');
                        }
                    }
                });
                document.querySelectorAll('.bottom-nav .nav-item').forEach(function(btn, i) {
                    if (i === index) btn.classList.add('active');
                    else btn.classList.remove('active');
                });
                this.currentPage = index;
            },
            init: function() {
                this.goToPage(0);
            }
        };
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() { NAV.init(); });
        } else {
            NAV.init();
        }
    </script>
    
    <script>
        function createStars(containerId, count) {
            const container = document.getElementById(containerId);
            if (!container) {
                console.error('Container não encontrado:', containerId);
                return;
            }
            const fragment = document.createDocumentFragment();
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 3 + 1;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.top = (Math.random() * 100) + '%';
                star.style.left = (Math.random() * 100) + '%';
                star.style.animationDelay = (Math.random() * 3) + 's';
                star.style.opacity = (Math.random() * 0.7 + 0.3);
                star.style.animationDuration = (1 + Math.random() * 2) + 's';
                fragment.appendChild(star);
            }
            container.appendChild(fragment);
            console.log('✨', count, 'estrelas criadas em', containerId);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            createStars('stars-inicio', 150);
            createStars('stars-sds', 150);
            createStars('stars-geral', 150);
        });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            console.log('❓ FAQ:', faqQuestions.length, 'perguntas encontradas');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.closest('.faq-item');
                    faqItem.classList.toggle('active');
                });
            });
        });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const readMoreButtons = document.querySelectorAll('#read-more-btn, .read-more-btn');
            
            readMoreButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const parent = this.closest('.about-section, .section');
                    if (!parent) return;
                    
                    const moreText = parent.querySelector('#read-more-text, .read-more-text, .more-content');
                    if (!moreText) return;
                    
                    if (!moreText.classList.contains('show')) {
                        moreText.classList.add('show');
                        this.innerHTML = '<strong>ler menos ...</strong>';
                        setTimeout(() => {
                            this.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                        }, 100);
                    } else {
                        moreText.classList.remove('show');
                        this.innerHTML = '<strong>ler mais ...</strong>';
                                    }
            });
        });
    </script>

    <!-- ========== JS DOS DISTÚRBIOS ========== -->
    <script>
document.addEventListener("DOMContentLoaded", function() {
    const section = document.querySelector(".disorders-scroll");
    const track = document.getElementById("scrollTrack");
    const wrapper = document.getElementById("scrollWrapper");
    const arrowLeft = document.getElementById("scrollArrowLeft");
    const arrowRight = document.getElementById("scrollArrowRight");
    const dots = document.querySelectorAll(".dot");
    const cards = document.querySelectorAll(".disorders-scroll-card");
    
    if (!track || !wrapper) return;
    
    // Atualizar visibilidade das setas e dots
    function updateScrollIndicators() {
        if (!track) return;
        
        const isAtStart = track.scrollLeft <= 10;
        const isAtEnd = track.scrollLeft + track.clientWidth >= wrapper.clientWidth - 10;
        
        // Setas desktop
        if (arrowLeft) {
            if (isAtStart) {
                arrowLeft.classList.remove("visible");
            } else {
                arrowLeft.classList.add("visible");
            }
        }
        
        if (arrowRight) {
            if (isAtEnd) {
                arrowRight.style.opacity = "0.3";
                arrowRight.style.pointerEvents = "none";
            } else {
                arrowRight.style.opacity = "0.6";
                arrowRight.style.pointerEvents = "auto";
            }
        }
        
        // Dots mobile
        if (dots.length && cards.length) {
            const cardWidth = cards[0]?.offsetWidth || 300;
            const gap = 28;
            const scrollPosition = track.scrollLeft;
            const activeIndex = Math.round(scrollPosition / (cardWidth + gap));
            
            dots.forEach((dot, i) => {
                if (i === activeIndex) {
                    dot.classList.add("active");
                } else {
                    dot.classList.remove("active");
                }
            });
        }
    }
    
    // Navegação pelas setas
    if (arrowLeft) {
        arrowLeft.addEventListener("click", function() {
            if (!track || !cards.length) return;
            const cardWidth = cards[0]?.offsetWidth || 300;
            const gap = 28;
            track.scrollBy({ left: -(cardWidth + gap), behavior: "smooth" });
        });
    }
    
    if (arrowRight) {
        arrowRight.addEventListener("click", function() {
            if (!track || !cards.length) return;
            const cardWidth = cards[0]?.offsetWidth || 300;
            const gap = 28;
            track.scrollBy({ left: cardWidth + gap, behavior: "smooth" });
        });
    }
    
    // Event listeners
    if (track) {
        track.addEventListener("scroll", updateScrollIndicators);
        window.addEventListener("resize", updateScrollIndicators);
    }
    
    // Animação de entrada
    function checkVisibility() {
        if (!section) return;
        const rect = section.getBoundingClientRect();
        const windowHeight = window.innerHeight || document.documentElement.clientHeight;
        if (rect.top <= windowHeight * 0.85 && rect.bottom >= 0) {
            section.style.opacity = "1";
            section.style.transform = "translateY(0)";
        }
    }
    
    // Inicializar
    setTimeout(() => {
        updateScrollIndicators();
    }, 100);
    
    checkVisibility();
    window.addEventListener("scroll", checkVisibility);
    window.addEventListener("resize", checkVisibility);
});
    </script>

    <!-- SCROLL AUTOMÁTICO DO BOTÃO CTA -->
    <!-- ========== SIDEBAR MENU JAVASCRIPT ========== -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Elementos do menu
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const sidebarMenu = document.getElementById('sidebarMenu');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const sidebarClose = document.getElementById('sidebarClose');
        const sidebarLinks = document.querySelectorAll('.sidebar-link');
        
        // Verificar se os elementos existem (apenas na página início)
        if (!hamburgerBtn || !sidebarMenu || !sidebarOverlay) {
            return; // Se não existirem, não fazer nada (outras páginas)
        }
        
        // Função para abrir o menu
        function openSidebar() {
            sidebarMenu.classList.add('active');
            sidebarOverlay.classList.add('active');
            hamburgerBtn.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevenir scroll do body
        }
        
        // Função para fechar o menu
        function closeSidebar() {
            sidebarMenu.classList.remove('active');
            sidebarOverlay.classList.remove('active');
            hamburgerBtn.classList.remove('active');
            document.body.style.overflow = ''; // Restaurar scroll do body
        }
        
        // Event listeners
        hamburgerBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (sidebarMenu.classList.contains('active')) {
                closeSidebar();
            } else {
                openSidebar();
            }
        });
        
        sidebarClose.addEventListener('click', closeSidebar);
        sidebarOverlay.addEventListener('click', closeSidebar);
        
        // Fechar ao pressionar ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && sidebarMenu.classList.contains('active')) {
                closeSidebar();
            }
        });
        
        // Scroll suave para as seções ao clicar nos links
        sidebarLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const sectionId = this.getAttribute('data-section');
                const targetSection = document.getElementById(sectionId);
                const pageInicio = document.getElementById('page-inicio');
                
                if (targetSection && pageInicio) {
                    // Fechar o menu primeiro
                    closeSidebar();
                    
                    // Aguardar um pouco para a animação do menu antes de fazer scroll
                    setTimeout(() => {
                        // Calcular a posição relativa dentro da página início
                        const pageTop = pageInicio.scrollTop;
                        const targetTop = targetSection.offsetTop;
                        const yOffset = -100; // Offset para compensar o header fixo
                        
                        // Fazer scroll dentro da página início
                        pageInicio.scrollTo({
                            top: targetTop + yOffset,
                            behavior: 'smooth'
                        });
                    }, 300);
                }
            });
        });
        
        console.log('✅ Menu lateral carregado com sucesso!');
    });
    </script>

    <!-- ========== NOTIFICAÇÃO MISTERIOSA (EASTER EGG) ========== -->
    <div class="mystery-overlay" id="mysteryOverlay">
        <div class="mystery-notification">
            <p>Nivora é um sistema criado para organizar o ritmo,<br>não para ocupar atenção.<br><br>Algumas interações fogem do fluxo padrão.<br>Esta é uma delas.<br><br>Agradecemos pela preferência ☺️</p>
        </div>
    </div>

    <script>
    // Easter Egg - Clique no logo NIVORA
    document.addEventListener('DOMContentLoaded', function() {
        const nivoraLogo = document.getElementById('nivora-logo');
        const mysteryOverlay = document.getElementById('mysteryOverlay');
        
        if (nivoraLogo && mysteryOverlay) {
            // Clique no logo
            nivoraLogo.addEventListener('click', function(e) {
                e.preventDefault();
                mysteryOverlay.classList.add('active');
            });
            
            // Fechar ao clicar fora da notificação
            mysteryOverlay.addEventListener('click', function(e) {
                if (e.target === mysteryOverlay) {
                    mysteryOverlay.classList.remove('active');
                }
            });
        }
    });
    </script>
</body>
</html>
